{"version":3,"sources":["Assets/check.svg","Assets/chevrondown.svg","Assets/chevronleft.svg","Assets/chevronup.svg","Assets sync /^/.//.*/.svg$","Assets/edit.svg","Assets/filter.svg","Assets/plus.svg","Contexts/global.js","Components/ContentCard/index.js","Components/HeroCard/index.js","Components/Results/index.js","Components/Button/index.js","Components/SectionTitle/index.js","Components/Modal/index.js","Components/ProviderSelection/index.js","Components/GenreSelection/index.js","Components/Notification/index.js","Components/IconButton/index.js","Components/ListItem/index.js","Components/MobileFilters/index.js","Components/BackButton/index.js","Components/Tabs/index.js","Components/WatchProviders/index.js","Components/Menu/index.js","Components/ResultsSection/index.js","Containers/Home/index.js","Containers/Onboarding/index.js","Data/genres.js","Helpers/tmdb.js","resultsSplitter.js","Containers/ViewMore/index.js","Containers/Info/index.js","Containers/NotFound/index.js","routes.js","Data/providers.js","Data/contentType.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","Context","createContext","Provider","ContentCard","size","media_type","title","name","poster_path","onClick","navigate","className","style","backgroundImage","HeroCard","overview","runtime","genres","pageHeader","backdrop_path","providers","index","isInfo","isNavigable","forceHero","hideSmall","window","innerWidth","Fragment","gs","i","length","slice","getGenres","Section14","content","query","viewMore","negativeBottomTitleMargin","item","key","Section13","Section12","Section10or11","Section9","Section8","Section7","Section6","Section5","Section4","Section3","Section2","Section1","Home","props","state","useContext","Array","isArray","results","section","Button","label","secondary","tertiary","opaque","SectionTitle","negativeBottomMargin","isResultsSectionTitle","Modal","setModal","description","children","ProviderSelection","selected","stopPropagation","console","log","newProviders","assign","provider_id","filter","p","setNotification","count","notification","text","localStorage","setProviders","setItem","JSON","stringify","onToggleProvider","image","logo_path","provider_name","newGenres","setGenres","onToggleGenre","Notification","useState","show","setShow","notificationTimer","useRef","useEffect","current","setTimeout","clearTimeout","IconButton","noBorder","src","require","icon","ListItem","MobileFilters","type","getName","tabs","setTabs","f","newTabs","GenreSelection","BackButton","history","back","Tab","Tabs","data","Info","info","flatRate","GB","flatrate","watchproviders","free","concat","setExpanded","showMenu","newContentTypes","contentTypes","setContentTypes","modal","ResultsSection","contentType","find","c","Menu","Results","Onboarding","getShowsPage","page","Promise","reject","url","$","get","getMoviesPage","getMovie","arr","similar","d","getSimilarMovies","all","then","similarMovies","getShow","getSimilarShows","getMovies","nextPage","newData","getShows","getRails","generateNoGenres","rails","clean","cleanData","genre","initialRail","createRail","generateQuery","sort","genreOperator","push","genreData","rail","createTitle","generateSingleGenreCombinations","g","combos","generateCombinations","genreateAllGenreCombinations","r","splice","shows","movies","combinedResults","combineResults","toUpperCase","arr1","arr2","combined","a","b","popularity","sourceArray","comboLength","sourceLength","makeNextCombos","workingCombo","currentIndex","remainingCount","oneAwayFromComboLength","sourceIndex","next","providersStr","genresStr","ViewMore","useQueryParams","params","scrollTo","setViewMore","CastAndCrewRails","cast","crew","setCast","newCast","newCrew","Similar","providerIds","newContent","itemProviders","j","indexOf","filterContent","filteredContent","setInfo","getPerson","credits","profile_path","WatchProviders","meta","number_of_seasons","first_air_date","in_production","Date","getFullYear","last_air_date","release_date","createMetaData","biography","combined_credits","NotFound","routes","MyApp","routeResult","useRoutes","display_priority","ProviderComponent","streamingProviders","getItem","parse","providersInit","getProviders","setFinalProviders","genresInit","setFinalGenres","contentTypesInit","setFinalContentTypes","setFinalResults","setShowMenu","scrollY","onWindowScroll","filteredProviders","addEventListener","removeEventListener","value","Boolean","location","hostname","match","ReactDOM","render","App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cd5fee67.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/check.f878000c.svg\";","module.exports = __webpack_public_path__ + \"static/media/chevrondown.c49d092d.svg\";","module.exports = __webpack_public_path__ + \"static/media/chevronleft.77fafd0e.svg\";","module.exports = __webpack_public_path__ + \"static/media/chevronup.9ce1d2ae.svg\";","var map = {\n\t\"./check.svg\": 8,\n\t\"./chevrondown.svg\": 12,\n\t\"./chevronleft.svg\": 13,\n\t\"./chevronup.svg\": 14,\n\t\"./edit.svg\": 49,\n\t\"./filter.svg\": 50,\n\t\"./plus.svg\": 51\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 48;","module.exports = __webpack_public_path__ + \"static/media/edit.4d34a2f9.svg\";","module.exports = __webpack_public_path__ + \"static/media/filter.356b0415.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.081b7992.svg\";","import { createContext } from 'react'\nconst Context = createContext({})\nexport const Provider = Context.Provider\nexport default Context","import React from 'react'\nimport { navigate } from 'hookrouter'\nimport './style.scss'\n\nconst ContentCard = ({size, media_type, id, title, name ,poster_path}) => {\n\treturn(\n\t\t<div onClick={() => navigate(`/watchit/${media_type}/${id}`)}className={`contentCardContainer ${size}`}>\n\t\t\t<h3>{title || name}</h3>\n\t\t<div style={{backgroundImage: `url( https://image.tmdb.org/t/p/w500${poster_path})`}}>\n\t\t</div>\n\t\t</div>\n\t)\n}\t\n\nexport default ContentCard","import React from 'react'\nimport './style.scss'\nimport { WatchProviders, ContentCard } from 'Components'\nimport { navigate } from 'hookrouter'\n\nconst HeroCard = ({size, name, title, overview, runtime, genres, pageHeader, backdrop_path, providers, id, media_type, index, isInfo, isNavigable, forceHero, hideSmall}) => {\n\n\tfunction getGenres(){\n\t\tlet gs = ''\n\t\tfor (var i = 0 ; i < genres.length; i++){\n\t\t\tgs += genres[i].name + ', '\n\t\t}\n\t\tgs = gs.slice(0,-2)\n\t\treturn gs\n\t}\n\n\t\n\n\tif (hideSmall && window.innerWidth <= 991 && !forceHero){\n\t\treturn <div />\n\t} else if (window.innerWidth <= 991 && !forceHero){\n\t\treturn <ContentCard {...{size, name, title, overview, runtime, genres, backdrop_path, providers, id, media_type, isInfo, isNavigable}} />\n\t} else {\n\treturn(\n\t\t<div className={`heroCardOuterContainer ${size} ${isInfo && 'isInfo'} ${pageHeader && 'pageHeader'} ${index === 0 && window.innerWidth > 991 && 'hero'}`} onClick={() => {\n\t\t\tif (isNavigable){\n\t\t\t\tnavigate(`/watchit/${media_type}/${id}`)\n\t\t\t}\n\t\t}}>\n\t\t<div className={`heroCardContainer`}>\n\n\t\t\t<div className=\"image\" style={{backgroundImage: `url( http://image.tmdb.org/t/p/original/${backdrop_path})`}}>\n\t\t\t\t<div className=\"vGrad\"/>\n\t\t\t\t<div className=\"hGrad\"/>\n\t\t\t\t<div className=\"mixedGrad\"/>\n\n\t\t\t\t\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"meta\">\n\t\t\t\t\n\t\t\t\t<h2>{name || title}</h2>\n\t\t\t\t{!size &&  window.innerWidth > 991 &&\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t{isInfo&&\n\t\t\t\t\t\t<p className=\"metadata\">{getGenres()}. {media_type === 'movie' ? `Runtime ${runtime}m` : '' }</p>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<p className=\"overview\">{overview}</p>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\n\t\t</div>\n\t)\n}\n}\t\n\nexport default HeroCard","import React, { useContext, useState } from 'react'\nimport Context from 'Contexts/global'\nimport './style.scss'\nimport { ResultsSection, SectionTitle} from 'Components'\n\nimport { ContentCard, HeroCard } from 'Components'\n\nconst Home = (props) => {\n\tconst state = useContext(Context)\n\tconst row = 13;\n\n\treturn (\n\t\t\n\t\t<div id=\"results\" className=\"resultsContainerOuter\">\n\t\t\t{Array.isArray(state.results) &&\n\t\t\t\t<div className=\"resultsContainer\">\n\t\t\t\t{Array.isArray(state.results) && state.results.map((section, i) => {\n\t\t\t\t\t\n\t\t\t\t\tif (section.content && section.content.length){\n\t\t\t\t\t\tswitch(section.content && section.content.length){\n\t\t\t\t\t\t\tcase 13: return <Section13 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 12: return <Section12 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 11: return <Section10or11 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 10: return <Section10or11 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 9: return <Section9 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 8: return <Section8 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 7: return <Section7 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 6: return <Section6 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 5: return <Section5 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 4: return <Section4 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 3: return <Section3 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 2: return <Section2 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tcase 1: return <Section1 key={i} {...section} index={i}/>\n\t\t\t\t\t\t\tdefault: return <Section14 key={i} {...section} index={i}/>\n\t\t\t\t\t\t}\n\t\t\t\t\t} else return <div key={i}/>\n\t\t\t\t})}\t\n\t\t\t\t\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t<div className=\"loading\">\n\n\t\t\t</div>\n\t\t</div>\n\t)\n    \n}\n\n\nconst Section14 = ({content, title, query, index}) => {\n\n\t\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14} negativeBottomTitleMargin>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.slice(0,14).map((item, i) => {\n\t\t\t\tif (i  === 0){\n\t\t\t\t\treturn <HeroCard index={i} pageHeader={index=== 0} forceHero key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t} else if ( i < 5){\n\t\t\t\t\treturn <ContentCard size=\"large\"key={i} {...item}  />\n\t\t\t\t} else if (i < 11){\n\t\t\t\t\treturn <ContentCard key={i} {...item}  />\n\t\t\t\t} else {\n\t\t\t\t\treturn <HeroCard size=\"extraSmall\" hideSmall={i ===13} key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t}\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\nconst Section13 = ({content, title, query, index}) => {\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14} negativeBottomTitleMargin>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.slice(0,13).map((item, i) => {\n\t\t\t\tif (i  === 0){\n\t\t\t\t\treturn <HeroCard index={i}  index={i}  pageHeader={index=== 0} index={i} key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t} \n\t\t\t\t\treturn <ContentCard key={i} {...item}  />\n\t\t\t\t\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\nconst Section12 = ({content, title, query, index}) => {\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14}>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\tif (i  <2){\n\t\t\t\t\treturn <HeroCard size=\"small\" index={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t} else if (i < 6){\n\t\t\t\t\treturn <ContentCard size=\"large\" key={i} {...item}  />\t\n\t\t\t\t} else {\n\t\t\t\t\treturn <ContentCard key={i} {...item}  />\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\nconst Section10or11 = ({content, title, query, index}) => {\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14}>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\tif (i < 2){\n\t\t\t\t\treturn <HeroCard size={'small'} key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t} else if (i < 8){\n\t\t\t\t\treturn <ContentCard key={i} {...item}  />\t\n\t\t\t\t} else {\n\t\t\t\t\treturn <HeroCard  size={content.length === 10 ? 'small' : 'extraSmall'} key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\nconst Section9 = ({content, title, query, index}) => {\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14}>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\tif (i < 3){\n\t\t\t\t\treturn <HeroCard  size={'extraSmall'} key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t} else {\n\t\t\t\t\treturn <ContentCard key={i} {...item}  />\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\nconst Section8 = ({content, title, query, index}) => {\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14}>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\tif (i < 2){\n\t\t\t\t\treturn <HeroCard  size={'small'} key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t} else {\n\t\t\t\t\treturn <ContentCard key={i} {...item}  />\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\nconst Section7 = ({content, title, query, index}) => {\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14}>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\tif (i < 3){\n\t\t\t\t\treturn <HeroCard size=\"extraSmall\" key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t} else {\n\t\t\t\t\treturn <ContentCard size=\"large\" key={i} {...item}  />\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\nconst Section6 = ({content, title, query, index}) => {\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14}>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\tif (i < 2){\n\t\t\t\t\treturn <HeroCard size=\"small\" key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t} else {\n\t\t\t\t\treturn <ContentCard size=\"large\" key={i} {...item}  />\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\nconst Section5 = ({content, title, query, index}) => {\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14} negativeBottomTitleMargin>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\tif (i < 1){\n\t\t\t\t\treturn <HeroCard index={i} index={i}  pageHeader={index=== 0} key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t} else {\n\t\t\t\t\treturn <ContentCard size=\"large\" key={i} {...item}  />\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\nconst Section4 = ({content, title, query, index}) => {\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14}>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\treturn <HeroCard size=\"small\" key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\n\nconst Section3 = ({content, title, query, index}) => {\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14}>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\treturn <HeroCard size=\"extraSmall\" key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\nconst Section2 = ({content, title, query, index}) => {\n\treturn(\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14}>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\treturn <HeroCard size=\"small\" key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\nconst Section1 = ({content, title, query, index}) => {\n\treturn (\n\n\t<ResultsSection query={query} title={title} viewMore={content.length > 14} negativeBottomTitleMargin>\n\t\t\n\t\t<div className=\"section\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\treturn <HeroCard index={i}  pageHeader={index=== 0} key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t})}\n\t\t</div>\n\t</ResultsSection>\n\t)\n}\n\nexport default Home\n\n\n\t\t","import React from 'react'\nimport './style.scss'\n\nconst Button = ({label, secondary, tertiary, onClick, opaque}) => {\n\treturn(\n\t\t<div className={`buttonContainer ${secondary && 'secondary'} ${tertiary && 'tertiary'} ${opaque && 'opaque'}`} onClick={onClick}>\n\t\t\t<p>{label}</p>\n\t\t</div>\n\t)\n}\n\nexport default Button","import React from 'react'\nimport './style.scss'\n\nconst SectionTitle = ({title, negativeBottomMargin, isResultsSectionTitle}) => {\n\treturn(\n\t\t<h1 className={`sectionTitle ${negativeBottomMargin && 'negativeBottomMargin'}${isResultsSectionTitle && 'isResultsSectionTitle'}`}>{title}</h1>\n\t)\n}\n\nexport default SectionTitle","import React, { useContext } from 'react'\nimport './style.scss'\nimport Context from 'Contexts/global'\nimport { Button } from 'Components'\n\nconst Modal = (props) => {\n\tconst state = useContext(Context)\n\treturn(\n\t\t<div className=\"modalOuterContainer\" onClick={() => state.setModal(false)}>\n\t\t<div className=\"modalContainer\">\n\t\t\n\t\t<div className=\"modalFixedHeader\">\n\t\t\t\t<p className=\"title\">{props.title}</p>\n\t\t\t\t<Button label=\"Done\" secondary onClick={() => state.setModal(false)} />\n\t\t\t</div>\t\t\n\t\t\t\t\n\t\t<div className=\"modalInner\">\n\t\t\n\t\t<div className=\"modalFalseHeader\" />\n\t\t<p className=\"description\">{props.description}</p>\n\t\t{props.children}\n\t\t</div>\n\t\t\t\n\t\t\t\n\t\t<div className=\"bottomGrad\" />\t\n\t\t</div>\n\n\t\t</div>\n\t)\n}\n\nexport default Modal","import React, {useContext, useEffect }from 'react'\nimport './style.scss'\nimport Context from 'Contexts/global'\nimport { Results, HeroCard, ContentCard,SectionTitle, ListItem } from 'Components'\nconst ProviderSelection = (props) => {\n\tconst state = useContext(Context)\n\n\tfunction onToggleProvider(id){\n\t\tconsole.log('TOGFGFLIN')\n\n\t\tlet newProviders= Object.assign([], state.providers)\n\n\n\t\tfor (var i = newProviders.length - 1; i >= 0; i--) {\n\t\t\tif (newProviders[i].provider_id === id){\n\t\t\t\tnewProviders[i].selected = !state.providers[i].selected\n\t\t\t}\n\t\t}\n\t\tlet selected = newProviders.filter((p) => p.selected)\n\t\t\n\t\tif (!selected || (selected && selected.length === 0)){\n\t\t\t\n\t\t\t state.setNotification({\n\t\t\t\tcount: state.notification.count + 1,\n\t\t\t\ttext: \"Pssst.. this works better when you've got all your streaming services selected\"\n\t\t\t})\n\t\t\t\n\t\t} \n\t\t// console.log('here' newProviders)\n\t\t if (window.localStorage){\n\t\t\tstate.setProviders(newProviders)\n\t\t\twindow.localStorage.setItem('streamingProviders', JSON.stringify(newProviders))\n\t\t\t\n\t\t} else {\n\t\t\tstate.setProviders(newProviders)\n\t\t}\n\t\t// console.log('toggling', newProviders)\n\n\t\t\n\t}\n\t\n\treturn(\n\t\t<div id=\"results\" className=\"providerSelection\">\n\n\t\t\t{state.providers && state.providers.map((item, i) => {\n\t\t\t\t\n\t\t\t\treturn(\n\t\t\t\t\t<ListItem \n\t\t\t\t\t\tselected={item.selected}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\tonToggleProvider(item.provider_id)}\n\t\t\t\t\t\t}\n\t\t\t\t\t\timage={`https://image.tmdb.org/t/p/w92/${item.logo_path}`}\n\t\t\t\t\t\tlabel={item.provider_name} />\n\t\t\t\t\t\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t)\n}\n\nexport default ProviderSelection","import React, { useContext } from 'react'\nimport Context from 'Contexts/global'\n\nimport './style.scss'\n\nimport { Checkbox, Pill, ListItem } from 'Components'\n\nconst Home = (props) => {\n\tconst state = useContext(Context)\n\n\n\tfunction onToggleGenre(id){\n\t\tlet newGenres= Object.assign([], state.genres)\n\t\tfor (var i = newGenres.length - 1; i >= 0; i--) {\n\t\t\tif (newGenres[i].id === id){\n\t\t\t\t\n\t\t\t\tnewGenres[i].selected = !state.genres[i].selected\n\t\t\t}\n\t\t}\n\t\t// console.log('toggling', newGenres)\n\t\tstate.setGenres(newGenres)\n\t}\n\t\n\treturn(\n\t\t<div id=\"results\" className=\"genreSelection\">\n\n\t\t\t{state.genres && state.genres.map((item, i) => {\n\t\t\t\t\n\t\t\t\treturn(\n\t\t\t\t\t<ListItem \n\t\t\t\t\t\tselected={item.selected}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\tonToggleGenre(item.id)}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tlabel={item.name} />\n\t\t\t\t\t\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t)\n    \n}\n\nexport default Home","import React, {useEffect, useRef, useContext, useState} from 'react'\nimport Context from 'Contexts/global'\nimport './style.scss'\n\nconst Notification = ({text, count}) => {\n\tconst state = useContext(Context)\n\tconst [ show, setShow] = useState(false)\n\tconst  notificationTimer = useRef(false)\n\n\tuseEffect(() => {\n\t\tsetShow(true)\n\t\tnotificationTimer.current = setTimeout(() => {\n\t\t\tsetShow(false)\n\t\t},5000)\n\t\treturn () => {\n\t\t\tclearTimeout(notificationTimer.current)\n\t\t}\n\t},[count])\n\n\tif (text){\n\treturn(\n\t\t<div className={`notificationContainer ${show && 'show'}`}>\n\t\t\t<p className=\"notificationCopy\">{text}</p>\n\t\t</div>\n\t)\n\t} else {\n\t\treturn <div/>\n\t}\n}\n\nexport default Notification","import React from 'react'\nimport './style.scss'\n\nconst IconButton = (props) => {\n\treturn(\n\t\t<div className={`iconButtonContainer ${props.noBorder && 'noBorder'} `} onClick={props.onClick}>\n\t\t<img src={require(`Assets/${props.icon}.svg`)} />\n\t\t</div>\n\t)\n}\n\nexport default IconButton","import React from 'react'\nimport './style.scss'\n\nconst ListItem = ({image, label, selected, onClick}) => {\n\treturn(\n\t\t<div className={`listItemContainer ${selected && 'selected'}` }onClick={onClick}>\t\n\t\t<div className=\"listItemInner\">\n\t\t\t{image && \n\t\t\t\t<img className=\"icon\" src={`${image}`} />\n\t\t\t}\n\t\t\t<p className=\"label\">{label}</p>\n\t\t\t<div className=\"check\">\n\t\t\t\t{selected && \n\t\t\t\t\t<img src={require('Assets/check.svg')}/>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default ListItem","import React, { useState, useContext } from 'react'\nimport Context from 'Contexts/global'\nimport './style.scss'\nimport { ProviderSelection, GenreSelection, Tabs } from 'Components'\n\n\n\nconst MobileFilters =() => {\n\tconst state = useContext(Context)\n\tconst [ tabs,  setTabs ] = useState([{id: 0, type: 'genres', name: getName('genres') , selected: true}, {id: 1, type: 'providers', name: getName('providers')} ]) \n\n\tfunction getName(type){\n\t\tconst selected = state[type].filter((f) => f.selected)\n\n\t\treturn `${type === 'genres' ? 'Genres ' : 'Providers '}(${selected.length})`\n\n\t}\n\treturn (\n\t\t<div>\n\t\t<Tabs content={tabs} onClick={(index) => {\n\t\t\tlet newTabs = Object.assign([],tabs)\n\t\t\tfor (var i = newTabs.length - 1; i >= 0; i--) {\n\n\t\t\t\tif (index === i){\n\t\t\t\t\tnewTabs[i].selected = true\n\n\t\t\t\t} else {\n\t\t\t\t\tnewTabs[i].selected = false\n\t\t\t\t}\n\t\t\t\tnewTabs[i].name = getName(newTabs[i].type)\n\t\t\t}\n\n\n\t\t\t\n\t\t\tsetTabs(newTabs)\n\t\t}}/>\n\t\t\t{tabs[0].selected && \n\t\t\t\t<GenreSelection />\n\t\t\t}\n\t\t\t{tabs[1].selected && \n\t\t\t\t<ProviderSelection />\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t</div>\n\t\n\t)\n}\n\nexport default MobileFilters","import React from 'react'\nimport './style.scss'\nimport { SectionTitle } from 'Components'\nconst BackButton = (props) => {\n\treturn(\n\t\t<div className={`backButtonContainer ${props.noBorder && 'noBorder'} `} onClick={() => window.history.back()}>\n\t\t<img src={require(`Assets/chevronleft.svg`)} />\n\t\t{props.title &&\n\t\t\t<SectionTitle title={props.title} />\n\t\t}\n\t\t</div>\n\t)\n}\n\nexport default BackButton","import React, { useContext } from 'react'\nimport './style.scss'\nimport { Checkbox } from 'Components'\n\nconst Tabs = ({data, onClick, content}) => {\n\t\n\n\t\n\treturn(\n\t\t<div className=\"tabsContainer\">\n\t\t\t{content && content.map((item, i) => {\n\t\t\t\treturn(\n\t\t\t\t\t<Tab key={i} {...item} onClick={onClick} />\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t)\n}\n\n\nconst Tab = ({label, selected, name, id, onClick})=> {\n\treturn(\n\t\t<div className={`tabContainer ${selected  && 'selected'}`} onClick={(e) => {\n\t\t\te.stopPropagation()\n\t\t\tonClick(id)\n\t\t}}>\n\t\t\t<p>{name}</p>\n\t\t\t<div>\n\t\t\t\t\n\t\t\t</div>\n\n\t\t</div>\n\t)\n}\n\nexport default Tabs","import React, { useContext, useState, useEffect } from 'react'\nimport './style.scss'\nconst Info = ({info, providers}) => {\n\t\n\n\n\tconst flatRate = providers && providers.results && providers.results.GB && providers.results.GB.flatrate && providers.results.GB.flatrate.length ? providers.results.GB.flatrate : []\n\tlet free = providers && providers.results && providers.results.GB && providers.results.GB.free && providers.results.GB.free.length ? providers.results.GB.free  : []\n\tlet watchproviders = free.concat(flatRate)\n\n\tconsole.log(watchproviders)\n\treturn (\n\t\t\n\t\t\t\t\t<div className=\"watchProviders\">\n\t\t\t\t{ watchproviders.map((item, i) => {\n\t\t\t\t\treturn(\n\t\t\t\t\t\n\t\t\t\t\t\t\t<img src={`https://image.tmdb.org/t/p/w92/${item.logo_path}`} />\n\t\t\t\t\t\t\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t\n\t)\n    \n}\n\nexport default Info","import React, { useContext, useState } from 'react'\nimport Context from 'Contexts/global'\nimport './style.scss'\n\nimport { Dropdown, Checkbox, Providers, Genres, ContentType, Tabs, WatchProviders, IconButton, GenreSelection, Button} from 'Components'\n\nconst Home = (props) => {\n\tconst state = useContext(Context)\n\tconst [expanded, setExpanded] = useState(false)\n\n\tfunction expandOrCollapse(item){\n\t\tif (item === 'Providers'){\n\t\t\tif (state.modal) return state.setModal(false)\n\t\t\tstate.setModal('providers')\n\t\t}\n\t\t// if (expanded === item){\n\t\t// \tsetExpanded(false)\n\t\t// } else {\n\t\t// \tsetExpanded(item)\n\t\t// }\n\t}\t\n\n\tfunction onContentClick(id){\n\t\tlet newContentTypes= Object.assign([], state.contentTypes)\n\t\tfor (var i = newContentTypes.length - 1; i >= 0; i--) {\n\t\t\tif (newContentTypes[i].id === id){\t\n\t\t\t\tnewContentTypes[i].selected = true\n\t\t\t} else {\n\t\t\t\tnewContentTypes[i].selected = false\n\t\t\t}\n\t\t}\n\t\tsetExpanded(false)\n\t\tstate.setContentTypes(newContentTypes)\n\t}\n\t\n\treturn (\n\t\t<div className={`menuOuterContainer ${state.showMenu && 'visible'}`}>\n\t\t\t<div className=\"selectorsContainer\">\n\t\t\t\t\n\t\t\t\t<Tabs onClick={onContentClick} content={state.contentTypes}/>\n\t\t\t\t<div className=\"desktopFilterContainer\">\n\t\t\t\t\t<div className=\"horizontalSpacer\" />\n\t\t\t\t\t<Button label={`GENRES (${state.genres.filter((p) => p.selected).length})`} onClick={() => state.setModal({\n\t\t\t\t\t\ttype: 'genres',\n\t\t\t\t\t\ttitle: 'Select genres',\n\t\t\t\t\t\tdescription: \"Select up to 6 genres. We'll find the best match for your combination\"\n\n\t\t\t\t\t})}/>\n\t\t\t\t</div>\n\t\t\t\t{/*<Dropdown label={`Providers (${state.providers.filter((p) => p.selected).length})`} selected={expanded === 'Providers'} onClick={() => expandOrCollapse(\"Providers\")}/>*/}\n\t\t\t\t\n\t\t\t\t<div className=\"mobileFilterContainer\">\n\t\t\t\t<IconButton icon=\"filter\" noBorder  onClick={() => {\n\t\t\t\t\tstate.setModal({\n\t\t\t\t\ttype: 'mixed',\n\t\t\t\t\ttitle: 'Filters'\n\t\t\t\t})}}/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"providersMenuContainer\" onClick={() => state.setModal(state.modal ? false : {\n\t\t\t\ttype: 'providers',\n\t\t\t\ttitle: 'Your services',\n\t\t\t\tdescription: \"We'll only show results which you can watch for free on your subscription services. If you don't choose any services we'll show you all results\"\n\t\t\t})}>\n\t\t\t\t<IconButton icon=\"plus\" />\n\t\t\t\t{state.providers.filter((f) => f.selected).map((item, i)=> {\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<img className=\"providerIndicator\" src={`https://image.tmdb.org/t/p/w92/${item.logo_path}`} />\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</div>\n\n\t\t\t\n\t\t</div>\n\t)\n    \n}\n\nexport default Home","import React, { useContext } from 'react'\nimport './style.scss'\nimport Context from 'Contexts/global'\nimport { Button, SectionTitle } from 'Components'\nimport { navigate }from 'hookrouter'\n\nconst ResultsSection = (props) => {\n\tconst state = useContext(Context)\n\n\tfunction onClick(){\n\t\tconst contentType =state.contentTypes.find((c) => c.selected).id\n\t\t// console.log(contentType)\n\t\t// console.log(props.query)\n\t\tconst url = `/watchit/view-more`\n\t\tnavigate(url, false, { type: contentType, query: props.query, title: props.title})\n\t}\n\treturn(\n\t\t<div className=\"section\">\n\t\t\t<div className=\"sectionHeader\">\n\t\t\t<SectionTitle title={props.title}/>\n\t\t\t</div>\n\n\t\t\t{props.children}\n\t\t\t\n\t\t\t\t<div className=\"CTAContainer\">\n\t\t\t\t{props.viewMore && \n\t\t\t\t\t<Button secondary opaque label={\" . . . \" }  tertiary onClick={onClick}/>\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t)\n}\n\nexport default ResultsSection","import React, { useContext } from 'react'\nimport Context from 'Contexts/global'\nimport { Results, Menu } from 'Components'\nconst Home = (props) => {\n\tconst globalState = useContext(Context)\n\treturn (\n\t\t<div className=\"homeContainer\">\n\t\t\t<Menu />\n\t\t\t<Results />\n\t\t</div>\n\t)\n    \n}\n\nexport default Home","import React, { useContext } from 'react'\nimport './style.scss'\n\nconst Onboarding = () => {\n\treturn (\n\t\t<div className=\"onboardingContainer\">\n\t\t</div>\n\t)\n}\n\nexport default Onboarding","const data = [\n    {\n      \"id\": 28,\n      \"name\": \"Action\",\n      \"id_list\": [28]\n    },\n    {\n      \"id\": \"12|10759\",\n      \"name\": \"Adventure\",\n      \"id_list\": [12, 10759]\n    },\n    {\n      \"id\": 16,\n      \"name\": \"Animation\",\n      \"id_list\": [16]\n    },\n    {\n      \"id\": 35,\n      \"name\": \"Comedy\",\n      \"id_list\": [25]\n    },\n    {\n      \"id\": 80,\n      \"name\": \"Crime\",\n      \"id_list\": [80]\n    },\n    {\n      \"id\": 99,\n      \"name\": \"Documentary\",\n      \"id_list\": [99]\n    },\n    {\n      \"id\": 18,\n      \"name\": \"Drama\",\n      \"id_list\": [18]\n    },\n    {\n      \"id\": 10751,\n      \"name\": \"Family\",\n      \"id_list\": [10751]\n    },\n\n    {\n      \"id\": 14,\n      \"name\": \"Fantasy\",\n      \"id_list\": [14]\n    },\n    {\n      \"id\": 36,\n      \"name\": \"History\",\n      \"id_list\": [36]\n    },\n    {\n      \"id\": 27,\n      \"name\": \"Horror\",\n      \"id_list\": [27]\n    },\n    {\n      \"id\": 10762,\n      \"name\": \"Kids\",\n      \"id_list\": [10762]\n    },\n    {\n      \"id\": 10402,\n      \"name\": \"Music\",\n      \"id_list\": [10402]\n    },\n    {\n      \"id\": 9648,\n      \"name\": \"Mystery\",\n      \"id_list\": [9648]\n    },\n    {\n      \"id\": 10763,\n      \"name\": \"News\",\n      \"id_list\": [10726]\n    },\n     {\n      \"id\": 10764,\n      \"name\": \"Reality\",\n      \"id_list\": [ 10764]\n    },\n    {\n      \"id\": 10749,\n      \"name\": \"Romance\",\n      \"id_list\": [10749]\n    },\n    {\n      \"id\": \"878|10765\",\n      \"name\": \"Science Fiction\",\n      \"id_list\": [878, 10765]\n    },\n\n    {\n      \"id\": 10766,\n      \"name\": \"Soap\",\n      \"id_list\": [10766]\n    },\n    {\n      \"id\": 10767,\n      \"name\": \"Talk\",\n      \"id_list\": [10767]\n    },\n    {\n      \"id\": 53,\n      \"name\": \"Thriller\",\n      \"id_list\": [53]\n    },\n    {\n      \"id\": 37,\n      \"name\": \"Western\",\n      \"id_list\": [37]\n    },    \n    {\n      \"id\": \"10768|10752\",\n      \"name\": \"War & Politics\",\n      \"id_list\": [10768,10752]\n    },\n\n  ]\n\n\n\nexport default data","import $ from 'jquery'\nconst key = 'c773362edcce3dd87050f617bf8a9b24'\n\n\nexport const getShowsPage =(query, page) => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst url = `https://api.themoviedb.org/3/discover/tv?api_key=${key}&watch_region=GB&page=${page}${query}`\n\t\t$.get(url, (data) => {\n\t\t\tfor(var i = 0; i < data.results.length; i++){\n\t\t\t\tdata.results[i].media_type = 'tv'\n\t\t\t}\n\t\t\tresolve(data.results)\n\t\t})\n\t})\n}\n\nexport const getMoviesPage = (query, page) => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst url = `https://api.themoviedb.org/3/discover/movie?api_key=${key}&watch_region=GB&page=${page}${query}`\n\t\t$.get(url, (data) => {\n\t\t\tfor(var i = 0; i < data.results.length; i++){\n\t\t\t\tdata.results[i].media_type = 'movie'\n\n\t\t\t}\n\t\t\tresolve(data.results)\n\t\t})\n\t})\n\n}\nexport const getMovie = (id) => {\n\t\n\treturn new Promise((resolve, reject) => {\n\t\tconst url = `https://api.themoviedb.org/3/movie/${id}?api_key=${key}&append_to_response=credits,watch/providers,recommended,similar,`\n\t\t$.get(url, (data) => {\n\t\t\t\n\t\t\tlet arr = data.similar.results.map((d) => getSimilarMovies(d.id))\n\t\t\tPromise.all(arr).then((similarMovies) => {\n\t\t\t\tdata.similar.results = similarMovies\n\t\t\t\tresolve(data)\n\t\t\t})\n\n\t\t\t\n\t\t})\n\t})\n}\n\nfunction getSimilarMovies(id){\n\treturn new Promise((resolve, reject) => {\n\t\tconst url = `https://api.themoviedb.org/3/movie/${id}?api_key=${key}&append_to_response=watch/providers`\n\t\t$.get(url, (data) => {\n\t\t\tresolve(data)\n\t\t})\n\t})\n}\n\nfunction getSimilarShows(id){\n\treturn new Promise((resolve, reject) => {\n\t\tconst url = `https://api.themoviedb.org/3/tv/${id}?api_key=${key}&append_to_response=watch/providers`\n\t\t$.get(url, (data) => {\n\t\t\tresolve(data)\n\n\t\t})\n\t})\n}\n\nexport const getPerson = (id) => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst url = `https://api.themoviedb.org/3/person/${id}?api_key=${key}&append_to_response=combined_credits`\n\t\t$.get(url, (data) => {\n\t\t\tresolve(data)\n\t\t})\n\t})\n}\n\n\nexport const getShow = (id) => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst url = `https://api.themoviedb.org/3/tv/${id}?api_key=${key}&append_to_response=credits,watch/providers,recommended,similar,`\n\t\t$.get(url, (data) => {\n\t\t\tlet arr = data.similar.results.map((d) => getSimilarShows(d.id))\n\t\t\tPromise.all(arr).then((similarMovies) => {\n\t\t\t\tdata.similar.results = similarMovies\n\t\t\t\tresolve(data)\n\t\t\t})\n\t\t\t\n\t\t})\n\t})\n}\n\n\nexport const getMovies = (query, nextPage) => {\n\t\n\treturn new Promise((resolve, reject) => {\n\t\tlet page = 1\n\n\t\tPromise.all([\n\t\t\tgetMoviesPage(query, page),\n\t\t\tgetMoviesPage(query, page+1),\n\t\t\tgetMoviesPage(query, page+2),\n\t\t\tgetMoviesPage(query, page+3),\n\t\t\tgetMoviesPage(query, page+4),\n\t\t\t// getMoviesPage(query, page+6),\n\t\t\t// getMoviesPage(query, page+7),\n\t\t\t// getMoviesPage(query, page+8),\n\t\t\t// getMoviesPage(query, page+9),\n\t\t\t// getMoviesPage(query, page+10)\n\t\t]).then((data) => {\n\n\t\t\tlet newData = []\n\t\t\tfor(var i = 0; i < data.length; i++){\n\t\t\t\tif (data[i] && data[i].length){\n\t\t\t\t\tnewData = newData.concat(data[i])\n\t\t\t\t}\n\t\t\t}\t\n\n\t\t\tresolve(newData)\n\t\t})\n\t})\n}\n\nexport const getShows = (query, nextPage) => {\n\treturn new Promise((resolve, reject) => {\n\t\tlet page = nextPage || 1 \n\t\t\n\t\tPromise.all([\n\t\t\tgetShowsPage(query, page),\n\t\t\tgetShowsPage(query, page+1),\n\t\t\tgetShowsPage(query, page+2),\n\t\t\tgetShowsPage(query, page+3),\n\t\t\tgetShowsPage(query, page+4),\n\t\t\t// getShowsPage(query, page +6),\n\t\t\t// getShowsPage(query, page+7),\n\t\t\t// getShowsPage(query, page+8),\n\t\t\t// getShowsPage(query, page+9),\n\t\t\t// getShowsPage(query, page+10)\n\t\t]).then((data) => {\n\n\t\t\tlet newData = []\n\t\t\tfor(var i = 0; i < data.length; i++){\n\t\t\t\tif (data[i] && data[i].length){\n\t\t\t\tnewData = newData.concat(data[i])\n\t\t\t\t}\n\t\t\t}\t\n\t\t\t\n\t\t\tresolve(newData)\n\t\t})\n\t})\n}\n\n","import genreData from 'Data/genres'\nimport { getMoviesPage, getShowsPage, getMovies, getShows } from 'Helpers/tmdb'\n\nexport const getRails = (data) => {\n\treturn new Promise((resolve, reject) => {\n\t\tif (data.genres.length === 0){\n\t\t\tgenerateNoGenres(data)\n\t\t\tPromise.all(generateNoGenres(data)).then((rails) => {\n\t\t\t\tlet clean = cleanData(rails)\n\t\t\t\tresolve(clean)\n\t\t\t})\n\t\t} else if (data.genres.length === 1){\n\t\t\tPromise.all(generateSingleGenreCombinations(data)).then((rails) => {\n\t\t\t\tlet clean = cleanData(rails)\n\t\t\t\tresolve(clean)\n\t\t\t})\n\t\t} else {\n\t\t\tPromise.all(genreateAllGenreCombinations(data)).then((rails) => {\n\t\t\t\tlet clean = cleanData(rails)\n\t\t\t\tresolve(clean)\n\t\t\t})\n\t\t}\n\t})\n}\n\nexport const getViewMore = (query, contentType) => {\n\t\n\treturn new Promise((resolve, reject) => {\n\t\tswitch(contentType){\n\t\t\tcase 1:\n\t\t\tgetMovies(query, 1).then((data) => resolve(data))\n\t\t\treturn\n\t\t\tcase 0:\n\t\t\t getShows(query, 1).then((data) => resolve(data))\n\t\t\t return\n\t\t\tcase 2:\n\t\t\tgetShows(query, 1).then((shows) => {\n\t\t\t\tgetMovies(query, 1).then((movies) => {\n\t\t\t\t\tconst combinedResults = combineResults(shows,movies)\n\t\t\t\t\tresolve(combinedResults)\n\t\t\t\t})\n\t\t\t})\n\t\t\t return \t\t\n\t\t}\t\n\t\n\t})\n}\n\n\nfunction cleanData(rails){\n\trails = rails.filter((r) => r.content.length > 0)\n\tfor(var i = 1; i < rails.length; i++){\n\t\tlet rail = rails[i]\n\t\tif (rails[i] && rails[i].content && rails[i].content[0] && rails[i-1] && rails[i-1].content && rails[i-1].content[0]){\n\t\t\tlet thisTitle =rails[i].content[0].title ||rails[i].content[0].name\n\t\t\tlet prevTitle =rails[i-1].content[0].title ||rails[i-1].content[0].name\n\t\t\tif(thisTitle === prevTitle){\n\t\t\t\trails.content = rails[i].content.splice(0, 1)\n\t\t\t}\n\t\t}\n\t}\n\treturn rails\n}\n\n\nfunction createRail(data){\n\treturn new Promise((resolve, reject) => {\n\t\tgetContent(data.query, data.contentType[0].id).then((content) => {\n\t\t\t\n\t\t\tresolve({\n\t\t\t\ttitle: data.title ? data.title.toUpperCase() : '',\n\t\t\t\tcontent: content,\n\t\t\t\tquery: data.query \n\t\t\t})\n\t\t})\n\t})\n}\n\nfunction getContent(query, contentType){\n\n\treturn new Promise((resolve, reject) => {\n\t\tswitch(contentType){\n\t\t\tcase 1:\n\t\t\tgetMoviesPage(query, 1).then((data) => resolve(data))\n\t\t\treturn\n\t\t\tcase 0:\n\t\t\t getShowsPage(query, 1).then((data) => resolve(data))\n\t\t\t return\n\t\t\tcase 2:\n\t\t\tgetShowsPage(query, 1).then((shows) => {\n\t\t\t\tgetMoviesPage(query, 1).then((movies) => {\n\t\t\t\t\tconst combinedResults = combineResults(shows,movies)\n\t\t\t\t\tresolve(combinedResults)\n\t\t\t\t})\n\t\t\t})\n\t\t\t return \t\t\n\t\t}\t\n\t})\n}\n\nfunction combineResults(arr1, arr2){\n\tlet combined = arr1.concat(arr2)\n\tcombined.sort((a,b) => b.popularity - a.popularity)\n\treturn combined\n}\n\nfunction generateNoGenres(data){\n\tlet rails = []\n\tlet initialRail = createRail({\n\t\ttitle: \"Most popular\",\n\t\tcontentType: data.contentTypes,\n\t\tquery: generateQuery({\n\t\t\tsort: 'popularity',\n\t\t\tgenres: [],\n\t\t\tgenreOperator: ',',\n\t\t\tproviders: data.providers,\n\t\t\tcontentType: data.contentTypes\n\t\t})\n\t})\n\trails.push(initialRail)\n\tfor (var i = 0; i < genreData.length; i++){\n\t\tlet rail = createRail({\n\t\t\ttitle: createTitle([genreData[i]]),\n\t\t\tcontentType: data.contentTypes,\n\t\t\tquery: generateQuery({\n\t\t\t\tsort: 'popularity',\n\t\t\t\tgenres: [genreData[i]],\n\t\t\t\tgenreOperator: ',',\n\t\t\t\tproviders: data.providers,\n\t\t\t\tcontentType: data.contentTypes\n\t\t\t})\n\t\t})\n\t\trails.push(rail)\n\t\t\n\t}\n\treturn rails\n}\n\n\nfunction generateSingleGenreCombinations(data){\n\tconst genre = data.genres[0]\n\tlet rails = []\n\tlet initialRail = createRail({\n\t\ttitle: \"Most popular \" + genre.name,\n\t\tcontentType: data.contentTypes,\n\t\tquery: generateQuery({\n\t\t\tsort: 'popularity',\n\t\t\tgenres: [genre],\n\t\t\tgenreOperator: ',',\n\t\t\tproviders: data.providers,\n\t\t\tcontentType: data.contentTypes\n\t\t})\n\t})\n\trails.push(initialRail)\n\tfor (var i = 0; i < genreData.length; i++){\n\t\tif (genreData[i].id !== genre.id){\n\t\t\tlet rail = createRail({\n\t\t\t\ttitle: createTitle([genre, genreData[i]]),\n\t\t\t\tcontentType: data.contentTypes,\n\t\t\t\tquery: generateQuery({\n\t\t\t\t\tsort: 'popularity',\n\t\t\t\t\tgenres: [genre, genreData[i]],\n\t\t\t\t\tgenreOperator: ',',\n\t\t\t\t\tproviders: data.providers,\n\t\t\t\t\tcontentType: data.contentTypes\n\t\t\t\t})\n\t\t\t})\n\t\t\trails.push(rail)\n\t\t}\n\t}\t\n\treturn rails\n}\n\n\nfunction genreateAllGenreCombinations(data){\n\tlet gs = data.genres.map((g) => g)\n\tlet combos = []\n\tlet results = []\n\tfor (var i = 0; i <= gs.length; i++) {\n\n\t\tcombos = combos.concat(generateCombinations(gs, i ))\t\n\t}\n\tfor (var i = combos.length - 1; i >= 0; i--) {\n\t\tlet rail = createRail({\n\t\t\ttitle: createTitle(combos[i]),\n\t\t\tcontentType: data.contentTypes,\n\t\t\tquery: generateQuery({\n\t\t\t\tsort: 'popularity',\n\t\t\t\tgenres: combos[i],\n\t\t\t\tgenreOperator: ',',\n\t\t\t\tproviders: data.providers,\n\t\t\t\tcontentType: data.contentTypes\n\t\t\t})\n\t\t})\n\t\tresults.push(rail)\t\n\t}\n\treturn results\n}\n\n\nfunction generateCombinations(sourceArray, comboLength) {\n  const sourceLength = sourceArray.length;\n  if (comboLength > sourceLength) return [];\n  const combos = [];\n  const makeNextCombos = (workingCombo, currentIndex, remainingCount) => {\n    const oneAwayFromComboLength = remainingCount == 1;\n    for (let sourceIndex = currentIndex; sourceIndex < sourceLength; sourceIndex++) {\n      const next = [ ...workingCombo, sourceArray[sourceIndex] ];\n      if (oneAwayFromComboLength) {\n        combos.push(next);\n      }\n      else {\n        makeNextCombos(next, sourceIndex + 1, remainingCount - 1);\n      }\n    }\n  }\n  makeNextCombos([], 0, comboLength);\n  return combos;\n}\n\nfunction createTitle(arr){\n\tlet title= ''\n\tfor(var i in arr){\n\t\t\n\t\ttitle += arr[i].name + ' & '\n\t}\n\treturn title.slice(0,-3)\n}\n\n\n\nfunction generateQuery(data){\n    let providersStr = ''\n    let genresStr = ''\n    if (data.providers.length){\n      let count = 0;\n      providersStr += '&with_watch_providers='\n      for (var i = data.providers.length - 1; i >= 0; i--) {\n        if (data.providers[i].selected){\n          count +=1\n          let addition = count = 0 ? data.providers[i].provider_id : (data.providers[i].provider_id+ '|')\n          providersStr += addition\n        }\n      }\n    } \n    if (data.genres.length){\n\t\tgenresStr += '&with_genres='\n\t\tlet count = 0;\n\t\tfor (var i = data.genres.length - 1; i >= 0; i--) {\n\t\t\tcount +=1\n\t\t\tlet addition = count = 0 ? data.genres[i].id : (data.genres[i].id + data.genreOperator)\n\t\t\tgenresStr += addition\n\t\t}\n\t}\n    let str = providersStr.slice(0,-1) + genresStr.slice(0,-1)\n    return str\n}\n\n\n\n","import React, {useContext, useEffect }from 'react'\nimport './style.scss'\nimport Context from 'Contexts/global'\nimport { Results, HeroCard, ContentCard,SectionTitle, BackButton } from 'Components'\nimport { useQueryParams }from 'hookrouter'\nimport { getViewMore } from 'resultsSplitter'\nconst ViewMore = (props) => {\n\tconst state = useContext(Context)\n\tconst [params] = useQueryParams()\n\tuseEffect(() => {\n\t\twindow.scrollTo(0,0)\n\n\t\tgetViewMore(params.query, params.type).then((data)=> {\n\t\t\tconsole.log('here')\n\t\t\tstate.setViewMore({\n\t\t\t\ttitle: params.title,\n\t\t\t\tcontent:data,\t\t\t\n\t\t\t})\n\t\t})\n\t\t\n\t\treturn () => {return}\n\t},[])\n\treturn(\n\t\t<div id=\"results\" className=\"viewMoreContainerOuter\">\n\t\t\t\n\t\t\t<div className=\"viewMoreContainer\">\n\t\t\t\t{state.viewMore && state.viewMore.content && state.viewMore.content.map((item, i) => {\n\t\t\t\t\tif (i  % 12 === 0){\n\t\t\t\t\t\treturn <HeroCard  key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t\t} else if (i % 12 < 5){\n\t\t\t\t\t\treturn <ContentCard size=\"large\" key={i} {...item}  />\t\n\t\t\t\t\t}  else if (i % 12 < 8){\n\t\t\t\t\t\treturn <HeroCard size=\"extraSmall\" key={i} providers={item['watch/providers']} {...item}  isNavigable />\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn <ContentCard size=\"large\" key={i} {...item}  />\t\n\t\t\t\t\t}\n\t\t\t})}\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"viewMoreTitleContainer\">\n\t\t\t<BackButton title={params.title }/>\n\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default ViewMore","import React, { useContext, useState, useEffect } from 'react'\nimport Context from 'Contexts/global'\nimport { HeroCard, WatchProviders, ContentCard, SectionTitle, BackButton} from 'Components'\nimport { getShow, getMovie, getPerson } from 'Helpers/tmdb'\nimport { navigate  } from 'hookrouter'\nimport MetaTags from 'react-meta-tags';\nimport './style.scss'\n\n\nconst CastAndCrewRails = ({cast, crew}) => {\n\t// console.log(castInit, crewInit)\n\t\n\tconst [ finalCrew, setCrew ] = useState([])\n\tconst [ finalCast, setCast ] = useState([])\n\n\tuseEffect(() => {\n\t\tlet newCast = clean(cast)\n\t\tlet newCrew = clean(crew)\n\t\tsetCast(newCast)\n\t\tsetCast(newCrew)\n\t},[])\n\n\tfunction clean(data){\n\t\tif (data){\n\t\t\tfor (var i = data.length - 1; i >= 0; i--) {\n\t\t\t\tif (data[i] && data[i+1]){\n\t\t\t\tlet title = data[i].title || data[i].name\n\t\t\t\tlet nextTitle = data[i+1].title || data[i+1].name\n\t\t\t\t\tif (title === nextTitle){\n\t\t\t\t\t\tdata.splice(i+1, 1)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata = data.sort((a,b) => b.popularity - a.popularity)\n\t\t\t\n\t\t\treturn data\n\t\t}\n\t}\n\t\n\treturn(\n\t\t<React.Fragment>\n\t\t\t{cast && cast.length > 0 &&\n\t\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"spacer\"/>\n\t\t\t\t\t<SectionTitle title=\"Cast\"/>\n\t\t\t\t\t<div className=\"similarContainer\">\n\t\t\t\t\t\t{cast.map((info, i ) => {\n\t\t\t\t\t\t\treturn <ContentCard {...info} key={i} />\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t\t{crew && crew.length > 0 &&\n\t\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"spacer\"/>\n\t\t\t\t\t<SectionTitle title=\"Crew\"/>\n\n\t\t\t\t\t<div className=\"similarContainer\">\n\t\t\t\t\t\t{crew.sort((a,b) => b.popularity - a.popularity).map((info, i ) => {\n\t\t\t\t\t\t\treturn <ContentCard {...info} key={i} />\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t</React.Fragment>\n\t)\n\t\n}\n\n\nconst Similar = ({content, type}) => {\n\tconst state = useContext(Context)\n\tconst [ filteredContent, setFilteredContent] = useState(\tfilterContent())\n\n\n\n\tfunction filterContent(){\n\t\tlet providers = state.providers.filter((p) => p.selected )\n\t\tlet providerIds = providers.map((p) => p.provider_id)\n\t\t\n\t\tlet newContent = []\n\t\tfor (var i = content.length - 1; i >= 0; i--) {\n\t\t\tlet providers = []\n\t\t\tif (content[i]['watch/providers'] && content[i]['watch/providers'].results && content[i]['watch/providers'].results['GB']){\n\t\t\t\tlet free = content[i]['watch/providers'].results['GB'].free  ? content[i]['watch/providers'].results['GB'].free : []\n\t\t\t\tlet flatrate = content[i]['watch/providers'].results['GB'].flatrate ?content[i]['watch/providers'].results['GB'].flatrate : []\n\t\t\t\tlet itemProviders = free.concat(flatrate)\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tfor (var j = itemProviders.length - 1; j >= 0; j--) {\n\t\t\t\t\tlet isMatch = providerIds.indexOf(itemProviders[j].provider_id) > -1\n\t\t\t\t\tif (isMatch){\n\t\t\t\t\t\tnewContent.push(content[i])\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t\n\t\t}\n\t\treturn newContent\n\t\t// console.log('newContent', newContent)\n\t}\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div className=\"spacer\"/>\n\t\t\t{filteredContent && filteredContent.length > 0 &&\n\t\t\t<SectionTitle title=\"Related Titles\"/>\n\t\t}\n\t\t\t<div className=\"similarContainer\">\n\t\t\t\t{filteredContent.slice(0,12).map((info, i ) => {\n\t\t\t\t\treturn <ContentCard {...info} media_type={type} key={i} />\n\t\t\t\t})}\n\t\t\t</div>\n\n\t\t\t</React.Fragment>\n\t)\n}\n\nconst Info = ({id, type}) => {\n\tconst [info, setInfo] = useState(null)\n\tconst globalState = useContext(Context)\n\tconst state = useContext(Context)\n\tuseEffect(() => {\n\t\tif (type === 'tv'){\n\t\t\tgetShow(id).then((data) => {\n\t\t\t\twindow.scrollTo(0,0)\n\t\t\t\tsetInfo(data)\n\t\t\t})\n\t\t} else if (type === 'movie'){\n\t\t\tgetMovie(id).then((data) => {\n\t\t\t\twindow.scrollTo(0,0)\n\t\t\t\tsetInfo(data)\n\t\t\t})\n\t\t} else { \n\t\t\tgetPerson(id).then((data) => {\n\t\t\t\twindow.scrollTo(0,0)\n\t\t\t\tdata.media_type = 'person'\n\t\t\t\t\n\t\t\t\tsetInfo(data)\n\t\t\t})\n\t\t}\n\t\treturn () => {}\n\t},[type, id])\n\n\tfunction getGenres(genres){\n\t\tlet gs = ''\n\t\tfor (var i = 0 ; i < genres.length; i++){\n\t\t\tgs += genres[i].name + ', '\n\t\t}\n\t\tgs = gs.slice(0,-2)\n\t\treturn gs\n\t}\n\n\tfunction createMetaData(info){\n\t\tlet meta = ''\n\t\t// meta += getGenres(info.genres)\n\t\t// meta += '\\n'\n\t\tif (info.number_of_seasons){\n\t\t\tmeta += info.number_of_seasons + ' seasons | '\n\t\t\tmeta += info.first_air_date.slice(0,4)\n\t\t\tmeta += ' - '\n\t\t\tmeta += info.in_production ? (new Date()).getFullYear() : info.last_air_date.slice(0,4)\n\t\t\t\n\t\t} else if (info.release_date){\n\t\t\tmeta += `${info.runtime}m`\n\t\t\tmeta += ' | '\n\t\t\tmeta += info.release_date.slice(0,4)\n\t\t} else {\n\n\t\t}\n\t\treturn meta\n\t}\n\n\t\n\nlet watchproviders = info ?info['watch/providers'] : []\nconst cast = info && info.credits && info.credits.cast ? info.credits.cast : []\n// const image = \tinfo ? info.backdrop_path ? \n// \t\t\t\t\tinfo.backdrop_path : \n// \t\t\t\tinfo.combined_credits ?\n// \t\t\t\t\tinfo.combined_credits.cast && info.combined_credits.cast && info.combined_credits.cast[0] ? \n// \t\t\t\t\t\tinfo.combined_credits.cast[0].backdrop_path : \n// \t\t\t\t\tinfo.combined_credits.crew ? \n// \t\t\t\t\t\tinfo.combined_credits.crew[0] ? \n// \t\t\t\t\t\t\tinfo.combined_credits.crew[0].backdrop_path : \n// \t\t\t\t\t\t'' : \n// \t\t\t\t\t'':\n// \t\t\t\t'':\n// \t\t\t\t''\n\tif (info){\n\treturn (\n\t\t<div className={`infoOuterContainer ${info && 'isVisible'}`} >\n\t\t\t<div className={`infoHeroOuterContainer`}>\n\t\t\t\t<div className={`infoHeroContainer`}>\n\t\t\t\t\t<div className={`image`} style={{backgroundImage: `url( http://image.tmdb.org/t/p/w780/${info.backdrop_path || info.profile_path})`}}>\n\t\t\t\t\t\t<div className=\"vGrad\"/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"mixedGrad\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\n\t\t\n\n\t\t<div className={`moreInfoContainer`}>\n\t\t{/*\ttype === 'person' && \n\t\t\t<img className=\"personImage\" src={`http://image.tmdb.org/t/p/h632/${info.profile_path}`} />\n\t\t*/}\t\n\t\t<div className={`infoMeta ${type}`}>\n\n\t\t\t{type !== 'person' &&\n\t\t\t\t<WatchProviders providers={watchproviders} />\n\t\t\t}\n\t\t\t<h2>{info.name || info.title}</h2>\n\t\t\t{info.media_type !== 'person' &&\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<p className=\"genresList\">{getGenres(info.genres)}</p>\n\t\t\t\t\t<p className=\"metadata\">{createMetaData(info)}</p>\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\n\t\t\t<p className=\"overview\" onClick={() => { state.setModal({\n\t\t\t\tdescription: info.overview || info.biography,\n\t\t\t\ttitle: info.title || info.name\n\t\t\t})}}>{info.overview || info.biography}</p>\n\t\t</div>\n\t\t{info && info.similar && info.similar.results && info.similar.results.length > 0 &&\n\t\t\t<Similar content={info.similar.results} type={type}/>\n\t\t}\n\t\t{type === 'person' && \n\t\t\t<CastAndCrewRails {...info.combined_credits} />\n \t\t}\n\n\t\t{type !== 'person' &&\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"spacer\"/>\n\t\t\t\t\t<SectionTitle title=\"Cast and crew\"/>\n\t\t\t\t\t<div className=\"castRail\">\n\t\t\t\t\t\t{cast.map((item ,i ) => {\n\t\t\t\t\t\t\tif (item.profile_path){\n\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t<div className=\"personOuter\" onClick={() => navigate(`/watchit/person/${item.id}`)}>\n\t\t\t\t\t\t\t\t<div className=\"person\"  style={{backgroundImage: `url(https://image.tmdb.org/t/p/w185/${item.profile_path})`}}>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)} else return <div className=\"inline\" key={i} />\n\t\t\t\t\t\t})}\t\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t\t</div>\n\t\t\t<BackButton />\n\t\t</div>\n\t)\n\t} else return <div /> \n    \n}\n\n\n\nexport default Info","import React from 'react'\n\nconst NotFound = () => {\n\treturn (\n\t\t<div className=\"homeContainer\">\n\t\t\t404\n\t\t</div>\n\t)   \n}\n\nexport default NotFound","import React from 'react'\nimport {useRoutes} from 'hookrouter';\nimport { Home, NotFound, Info, ViewMore, Onboarding } from 'Containers'\nconst routes = {\n    '/': () => <Home/>,\n    '/watchit/': () => <Home/>,\n    '/watchit/onboarding': () => <Onboarding/>,\n    '/watchit/view-more': () => <ViewMore/>,\n    '/watchit/movie/:id': ({id}) => <Info type=\"movie\" id={id}/>,\n    '/watchit/person/:id': ({id}) => <Info type=\"person\" id={id}/>,\n    '/watchit/tv/:id': ({id}) => <Info type=\"tv\" id={id}/>,\n};\n  \nconst MyApp = () => {\n    const routeResult = useRoutes(routes);\n    return (\n    \t<div>\n    \t\n    {routeResult || <NotFound />};\n    </div>\n    )\n}\n\nexport default MyApp","const data = [\n\t{display_priority: 0, logo_path: \"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg\", provider_id: 8, provider_name: \"Netflix\"},\n\t{display_priority: 1, logo_path: \"/68MNrwlkpF7WnmNPXLah69CR5cb.jpg\", provider_id: 9, provider_name: \"Amazon Prime Video\"},\n\t{display_priority: 7, logo_path: \"/dgPueyEdOwpQ10fjuhL2WYFQwQs.jpg\", provider_id: 337, provider_name: \"Disney Plus\"},\n\t{display_priority: 3, logo_path: \"/hYrcCS72d2alfXdGS1QXNEvwYDY.jpg\", provider_id: 39, provider_name: \"Now TV\"},\n{display_priority: 8, logo_path: \"/zLX0ExkHc8xJ9W4u9JgnldDQLKv.jpg\", provider_id: 29, provider_name: \"Sky Go\"},\n{display_priority: 9, logo_path: \"/kf9hkpOBi73XZiFu4YScYKtGxh2.jpg\", provider_id: 38, provider_name: \"BBC iPlayer\"},\n\t{display_priority: 17, logo_path: \"/9LikNB66yMtBPXiWKRHuB45meyN.jpg\", provider_id: 103, provider_name: \"All 4\"},\n\t{display_priority: 19, logo_path: \"/ux9BKRR3taBbA3p0d85PhZJnObs.jpg\", provider_id: 41, provider_name: \"ITV Player\"},\n\t{display_priority: 35, logo_path: \"/2yL47GH7BQVB3e6jOaFiBkKVV9O.jpg\", provider_id: 380, provider_name: \"BritBox\"}\n]\n\n\n// const paid = [\n// \t{display_priority: 3, logo_path: \"/p3Z12gKq2qvJaUOMeKNU2mzKVI9.jpg\", provider_id: 3, provider_name: \"Google Play Movies\"}\n// \t{display_priority: 8, logo_path: \"/pZgeSWpfvD59x6sY6stT5c6uc2h.jpg\", provider_id: 130, provider_name: \"Sky Store\"}\n// \t{display_priority: 10, logo_path: \"/sVBEF7q7LqjHAWSnKwDbzmr2EMY.jpg\", provider_id: 10, provider_name: \"Amazon Video\"}\n// \t{display_priority: 11, logo_path: \"/vjKeS7Y9fNyqNtvp2ROCc71iu1u.jpg\", provider_id: 40, provider_name: \"Chili\"}\n// \t{display_priority: 12, logo_path: \"/vDCcryHD32b0yMeSCgBhuYavsmx.jpg\", provider_id: 192, provider_name: \"YouTube\"}\n// \t{display_priority: 18, logo_path: \"/wuViyDkbFp4r7VqI0efPW5hFfQj.jpg\", provider_id: 35, provider_name: \"Rakuten TV\"}\n// ]\n\n\nexport default data\n","const data= [\n\t{\n\t\tname: 'ALL',\n\t\tid: 2,\n\t\tselected: true\n\t},\n\t{\n\t\tname: 'SHOWS',\n\t\tid: 0\n\t},\n\t{\n\t\tname: 'MOVIES',\n\t\tid: 1\n\t}\n]\n\nexport default data","import React, { useState , useEffect } from \"react\";\nimport { Provider } from \"./Contexts/global\";\nimport initialState from './initialState'\nimport Routes from './routes'\nimport { ProviderSelection, Modal, Notification,GenreSelection, MobileFilters } from 'Components'\nimport { getMovies, getShows } from 'Helpers/tmdb'\nimport providersInit from 'Data/providers'\nimport genresInit from 'Data/genres'\nimport contentTypesInit from 'Data/contentType'\nimport { getRails } from './resultsSplitter'\nimport { navigate } from 'hookrouter'\n// import $ from 'jquery'\nconst ProviderComponent = props => {  \n  const [providers, setFinalProviders] = useState(getProviders());\n  const [genres, setFinalGenres] = useState(genresInit);\n  const [contentTypes, setFinalContentTypes] = useState(contentTypesInit);\n  const [nextPage, setNextPage] = useState(1);\n  const [results, setFinalResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [viewMore, setViewMore] = useState([])\n  const [modal, setModal ] = useState(false)\n  const [ notification, setNotification] = useState({count: 0, text: ''})\n  const [ showMenu, setShowMenu ] = useState(false)\n  let scrollTop = window.scrollY\n\n\n  function getProviders(){\n    if (window.localStorage){\n      let streamingProviders = localStorage.getItem('streamingProviders');\n      if (streamingProviders){\n        streamingProviders =  Object.assign([], JSON.parse(streamingProviders))\n        for(var i = 0; i < providersInit.length; i++){\n          let provider = streamingProviders.find((p) => p.id === providersInit.id)\n          if (!provider){\n            streamingProviders.push(providersInit[i])\n          }\n        }\n        return streamingProviders\n      }\n      return providersInit\n    }\n  }\n\n  useEffect(() => {\n\n      const filteredProviders = providers.filter((g) => g.selected)\n\n      if (filteredProviders.length === 0){\n        console.log('filtered', filteredProviders)\n        setModal({\n          title:\"Let's find something to watch\",\n          description: \"Let us know what services you're subscribed to so we can find something to watch. If you're happy to pay for something then you can just skip this.\",\n          type: 'providers'\n        })\n      }\n      const rails = getRails({\n        genres: genres.filter((g) => g.selected), \n        contentTypes: contentTypes.filter((g) => g.selected), \n        providers: filteredProviders\n      }).then((rails) => {\n\n        setFinalResults(rails)\n      }) \n  },[])\n\n\n\n  useEffect(() => {\n     window.addEventListener(\"scroll\", onWindowScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", onWindowScroll);\n    }\n\n  },[showMenu])\n\n  function onWindowScroll(e){ \n    // let newY = window.scrollY\n    // if(newY > scrollTop && scrollTop > 0 && showMenu === false){\n    //   setShowMenu(true)\n    // } else if (newY < scrollTop && showMenu){\n    //   setShowMenu(false)\n    // }\n    \n  \n    // scrollTop = window.scrollY\n  \n    // const height =document.getElementById('results').offsetHeight\n    // if (window.scrollTop + window.innerHeight > height - 800){\n    //   if (!isLoading){\n    //     setIsLoading(true)\n    //     const str = constructString()\n    //     callCorrectQuery(str).then((data) => {\n\n    //         let finalResult = resultsSplitter(results.concat(data)).then((finalResult) => {\n    //           setFinalResults(finalResult)\n    //         })\n            \n    //         // setNextPage(nextPage+5)\n    //         setIsLoading(false)\n    //     })\n    //   }\n    // }\n    \n  }\n\n  \n\n  function setGenres(newData){\n    setFinalGenres(newData)\n    window.scrollTo(0, 0)\n    const rails = getRails({\n      genres: genres.filter((g) => g.selected), \n      contentTypes: contentTypes.filter((g) => g.selected), \n      providers: providers.filter((g) => g.selected), \n    }).then((rails) => {\n      setFinalResults(rails)\n    })\n\n    \n  }\n\n  function setProviders(newData){\n    setFinalProviders(newData)\n    window.scrollTo(0, 0)\n    const rails = getRails({\n      genres: genres.filter((g) => g.selected), \n      contentTypes: contentTypes.filter((g) => g.selected), \n      providers: providers.filter((g) => g.selected), \n    }).then((rails) => {\n      setFinalResults(rails)\n    })\n\n    \n  }\n\n  function setContentTypes(newData){  \n      setFinalContentTypes(newData)\n      window.scrollTo(0, 0)\n      const rails = getRails({\n        genres: genres.filter((g) => g.selected), \n        contentTypes: contentTypes.filter((g) => g.selected), \n        providers: providers.filter((g) => g.selected), \n      }).then((rails) => {\n        setFinalResults(rails)\n      }) \n  }\n\n  \n  return (\n     <Provider\n        value={{\n          providers,\n          setProviders,\n          genres, \n          setGenres,\n          contentTypes, \n          setContentTypes,\n          nextPage,\n          results,\n          viewMore,\n          setViewMore,\n          modal,\n          setModal,\n          notification,\n          setNotification,\n          showMenu,\n          setShowMenu\n        }}\n      >\n       <Routes />\n       {modal &&\n         <Modal \n          title={modal.title}\n          description={modal.description}>\n          {modal.type === 'providers' && \n            <ProviderSelection />\n          }\n          {modal.type === 'genres' && \n            <GenreSelection />\n          }\n          {modal.type === 'mixed' && \n           <MobileFilters /> \n\n          }\n         </Modal>\n        }\n      {notification && \n        <Notification {...notification} />\n      }\n    </Provider>\n  );\n};\n\nexport default ProviderComponent;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}