(window["webpackJsonpweb-pa"]=window["webpackJsonpweb-pa"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/check.f878000c.svg"},,,,function(e,t,n){e.exports=n.p+"static/media/chevrondown.c49d092d.svg"},function(e,t,n){e.exports=n.p+"static/media/chevronleft.77fafd0e.svg"},function(e,t,n){e.exports=n.p+"static/media/chevronup.9ce1d2ae.svg"},,,function(e,t,n){e.exports=n(64)},,,,,function(e,t,n){},,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var a={"./check.svg":8,"./chevrondown.svg":12,"./chevronleft.svg":13,"./chevronup.svg":14,"./edit.svg":49,"./filter.svg":50,"./plus.svg":51};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=48},function(e,t,n){e.exports=n.p+"static/media/edit.4d34a2f9.svg"},function(e,t,n){e.exports=n.p+"static/media/filter.356b0415.svg"},function(e,t,n){e.exports=n.p+"static/media/plus.081b7992.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),c=n.n(i),o=(n(22),n(1)),s=Object(a.createContext)({}),l=s.Provider,u=s,d=n(2),m=(n(34),n(35),n(36),n(37),function(e){var t=e.size,n=e.media_type,a=e.id,i=e.title,c=e.name,o=e.poster_path;return r.a.createElement("div",{onClick:function(){return Object(d.navigate)("/watchit/".concat(n,"/").concat(a))},className:"contentCardContainer ".concat(t)},r.a.createElement("h3",null,i||c),r.a.createElement("div",{style:{backgroundImage:"url( https://image.tmdb.org/t/p/w500".concat(o,")")}}))}),v=(n(38),function(e){var t=e.size,n=e.name,a=e.title,i=e.overview,c=e.runtime,o=e.genres,s=e.pageHeader,l=e.backdrop_path,u=e.providers,v=e.id,p=e.media_type,f=e.index,g=e.isInfo,y=e.isNavigable,h=e.forceHero;return e.hideSmall&&window.innerWidth<=991&&!h?r.a.createElement("div",null):window.innerWidth<=991&&!h?r.a.createElement(m,{size:t,name:n,title:a,overview:i,runtime:c,genres:o,backdrop_path:l,providers:u,id:v,media_type:p,isInfo:g,isNavigable:y}):r.a.createElement("div",{className:"heroCardOuterContainer ".concat(t," ").concat(g&&"isInfo"," ").concat(s&&"pageHeader"," ").concat(0===f&&window.innerWidth>991&&"hero"),onClick:function(){y&&Object(d.navigate)("/watchit/".concat(p,"/").concat(v))}},r.a.createElement("div",{className:"heroCardContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url( http://image.tmdb.org/t/p/original/".concat(l,")")}},r.a.createElement("div",{className:"vGrad"}),r.a.createElement("div",{className:"hGrad"}),r.a.createElement("div",{className:"mixedGrad"}))),r.a.createElement("div",{className:"meta"},r.a.createElement("h2",null,n||a),!t&&window.innerWidth>991&&r.a.createElement(r.a.Fragment,null,g&&r.a.createElement("p",{className:"metadata"},function(){for(var e="",t=0;t<o.length;t++)e+=o[t].name+", ";return e=e.slice(0,-2)}(),". ","movie"===p?"Runtime ".concat(c,"m"):""),r.a.createElement("p",{className:"overview"},i))))}),p=n(3),f=(n(39),function(e){var t=e.content,n=e.title,a=e.query,i=e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14,negativeBottomTitleMargin:!0},r.a.createElement("div",{className:"section"},t&&t.slice(0,14).map((function(e,t){return 0===t?r.a.createElement(v,Object.assign({index:t,pageHeader:0===i,forceHero:!0,key:t,providers:e["watch/providers"]},e,{isNavigable:!0})):t<5?r.a.createElement(m,Object.assign({size:"large",key:t},e)):t<11?r.a.createElement(m,Object.assign({key:t},e)):r.a.createElement(v,Object.assign({size:"extraSmall",hideSmall:13===t,key:t,providers:e["watch/providers"]},e,{isNavigable:!0}))}))))}),g=function(e){var t=e.content,n=e.title,a=e.query,i=e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14,negativeBottomTitleMargin:!0},r.a.createElement("div",{className:"section"},t&&t.slice(0,13).map((function(e,t){var n;return 0===t?r.a.createElement(v,Object.assign((n={index:t},Object(p.a)(n,"index",t),Object(p.a)(n,"pageHeader",0===i),Object(p.a)(n,"index",t),Object(p.a)(n,"key",t),Object(p.a)(n,"providers",e["watch/providers"]),n),e,{isNavigable:!0})):r.a.createElement(m,Object.assign({key:t},e))}))))},y=function(e){var t=e.content,n=e.title,a=e.query;e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14},r.a.createElement("div",{className:"section"},t&&t.map((function(e,t){return t<2?r.a.createElement(v,Object.assign({size:"small",index:t,providers:e["watch/providers"]},e,{isNavigable:!0})):t<6?r.a.createElement(m,Object.assign({size:"large",key:t},e)):r.a.createElement(m,Object.assign({key:t},e))}))))},h=function(e){var t=e.content,n=e.title,a=e.query;e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14},r.a.createElement("div",{className:"section"},t&&t.map((function(e,n){return n<2?r.a.createElement(v,Object.assign({size:"small",key:n,providers:e["watch/providers"]},e,{isNavigable:!0})):n<8?r.a.createElement(m,Object.assign({key:n},e)):r.a.createElement(v,Object.assign({size:10===t.length?"small":"extraSmall",key:n,providers:e["watch/providers"]},e,{isNavigable:!0}))}))))},E=function(e){var t=e.content,n=e.title,a=e.query;e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14},r.a.createElement("div",{className:"section"},t&&t.map((function(e,t){return t<3?r.a.createElement(v,Object.assign({size:"extraSmall",key:t,providers:e["watch/providers"]},e,{isNavigable:!0})):r.a.createElement(m,Object.assign({key:t},e))}))))},b=function(e){var t=e.content,n=e.title,a=e.query;e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14},r.a.createElement("div",{className:"section"},t&&t.map((function(e,t){return t<2?r.a.createElement(v,Object.assign({size:"small",key:t,providers:e["watch/providers"]},e,{isNavigable:!0})):r.a.createElement(m,Object.assign({key:t},e))}))))},w=function(e){var t=e.content,n=e.title,a=e.query;e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14},r.a.createElement("div",{className:"section"},t&&t.map((function(e,t){return t<3?r.a.createElement(v,Object.assign({size:"extraSmall",key:t,providers:e["watch/providers"]},e,{isNavigable:!0})):r.a.createElement(m,Object.assign({size:"large",key:t},e))}))))},O=function(e){var t=e.content,n=e.title,a=e.query;e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14},r.a.createElement("div",{className:"section"},t&&t.map((function(e,t){return t<2?r.a.createElement(v,Object.assign({size:"small",key:t,providers:e["watch/providers"]},e,{isNavigable:!0})):r.a.createElement(m,Object.assign({size:"large",key:t},e))}))))},j=function(e){var t=e.content,n=e.title,a=e.query,i=e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14,negativeBottomTitleMargin:!0},r.a.createElement("div",{className:"section"},t&&t.map((function(e,t){var n;return t<1?r.a.createElement(v,Object.assign((n={index:t},Object(p.a)(n,"index",t),Object(p.a)(n,"pageHeader",0===i),Object(p.a)(n,"key",t),Object(p.a)(n,"providers",e["watch/providers"]),n),e,{isNavigable:!0})):r.a.createElement(m,Object.assign({size:"large",key:t},e))}))))},N=function(e){var t=e.content,n=e.title,a=e.query;e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14},r.a.createElement("div",{className:"section"},t&&t.map((function(e,t){return r.a.createElement(v,Object.assign({size:"small",key:t,providers:e["watch/providers"]},e,{isNavigable:!0}))}))))},_=function(e){var t=e.content,n=e.title,a=e.query;e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14},r.a.createElement("div",{className:"section"},t&&t.map((function(e,t){return r.a.createElement(v,Object.assign({size:"extraSmall",key:t,providers:e["watch/providers"]},e,{isNavigable:!0}))}))))},k=function(e){var t=e.content,n=e.title,a=e.query;e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14},r.a.createElement("div",{className:"section"},t&&t.map((function(e,t){return r.a.createElement(v,Object.assign({size:"small",key:t,providers:e["watch/providers"]},e,{isNavigable:!0}))}))))},C=function(e){var t=e.content,n=e.title,a=e.query,i=e.index;return r.a.createElement(R,{query:a,title:n,viewMore:t.length>14,negativeBottomTitleMargin:!0},r.a.createElement("div",{className:"section"},t&&t.map((function(e,t){return r.a.createElement(v,Object.assign({index:t,pageHeader:0===i,key:t,providers:e["watch/providers"]},e,{isNavigable:!0}))}))))},x=function(e){var t=Object(a.useContext)(u);return r.a.createElement("div",{id:"results",className:"resultsContainerOuter"},Array.isArray(t.results)&&r.a.createElement("div",{className:"resultsContainer"},Array.isArray(t.results)&&t.results.map((function(e,t){if(!e.content||!e.content.length)return r.a.createElement("div",{key:t});switch(e.content&&e.content.length){case 13:return r.a.createElement(g,Object.assign({key:t},e,{index:t}));case 12:return r.a.createElement(y,Object.assign({key:t},e,{index:t}));case 11:case 10:return r.a.createElement(h,Object.assign({key:t},e,{index:t}));case 9:return r.a.createElement(E,Object.assign({key:t},e,{index:t}));case 8:return r.a.createElement(b,Object.assign({key:t},e,{index:t}));case 7:return r.a.createElement(w,Object.assign({key:t},e,{index:t}));case 6:return r.a.createElement(O,Object.assign({key:t},e,{index:t}));case 5:return r.a.createElement(j,Object.assign({key:t},e,{index:t}));case 4:return r.a.createElement(N,Object.assign({key:t},e,{index:t}));case 3:return r.a.createElement(_,Object.assign({key:t},e,{index:t}));case 2:return r.a.createElement(k,Object.assign({key:t},e,{index:t}));case 1:return r.a.createElement(C,Object.assign({key:t},e,{index:t}));default:return r.a.createElement(f,Object.assign({key:t},e,{index:t}))}}))),r.a.createElement("div",{className:"loading"}))},T=(n(40),n(41),function(e){var t=e.label,n=e.secondary,a=e.tertiary,i=e.onClick,c=e.opaque;return r.a.createElement("div",{className:"buttonContainer ".concat(n&&"secondary"," ").concat(a&&"tertiary"," ").concat(c&&"opaque"),onClick:i},r.a.createElement("p",null,t))}),S=(n(42),function(e){var t=e.title,n=e.negativeBottomMargin,a=e.isResultsSectionTitle;return r.a.createElement("h1",{className:"sectionTitle ".concat(n&&"negativeBottomMargin").concat(a&&"isResultsSectionTitle")},t)}),M=(n(43),function(e){var t=Object(a.useContext)(u);return r.a.createElement("div",{className:"modalOuterContainer",onClick:function(){return t.setModal(!1)}},r.a.createElement("div",{className:"modalContainer"},r.a.createElement("div",{className:"modalFixedHeader"},r.a.createElement("p",{className:"title"},e.title),r.a.createElement(T,{label:"Done",secondary:!0,onClick:function(){return t.setModal(!1)}})),r.a.createElement("div",{className:"modalInner"},r.a.createElement("div",{className:"modalFalseHeader"}),r.a.createElement("p",{className:"description"},e.description),e.children),r.a.createElement("div",{className:"bottomGrad"})))}),q=(n(44),function(e){var t=Object(a.useContext)(u);return r.a.createElement("div",{id:"results",className:"providerSelection"},t.providers&&t.providers.map((function(e,n){return r.a.createElement(z,{selected:e.selected,onClick:function(n){n.stopPropagation(),function(e){console.log("TOGFGFLIN");for(var n=Object.assign([],t.providers),a=n.length-1;a>=0;a--)n[a].provider_id===e&&(n[a].selected=!t.providers[a].selected);var r=n.filter((function(e){return e.selected}));(!r||r&&0===r.length)&&t.setNotification({count:t.notification.count+1,text:"Pssst.. this works better when you've got all your streaming services selected"}),window.localStorage?(t.setProviders(n),window.localStorage.setItem("streamingProviders",JSON.stringify(n))):t.setProviders(n)}(e.provider_id)},image:"https://image.tmdb.org/t/p/w92/".concat(e.logo_path),label:e.provider_name})})))}),B=(n(45),function(e){var t=Object(a.useContext)(u);return r.a.createElement("div",{id:"results",className:"genreSelection"},t.genres&&t.genres.map((function(e,n){return r.a.createElement(z,{selected:e.selected,onClick:function(n){n.stopPropagation(),function(e){for(var n=Object.assign([],t.genres),a=n.length-1;a>=0;a--)n[a].id===e&&(n[a].selected=!t.genres[a].selected);t.setGenres(n)}(e.id)},label:e.name})})))}),P=(n(46),function(e){var t=e.text,n=e.count,i=(Object(a.useContext)(u),Object(a.useState)(!1)),c=Object(o.a)(i,2),s=c[0],l=c[1],d=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return l(!0),d.current=setTimeout((function(){l(!1)}),5e3),function(){clearTimeout(d.current)}}),[n]),t?r.a.createElement("div",{className:"notificationContainer ".concat(s&&"show")},r.a.createElement("p",{className:"notificationCopy"},t)):r.a.createElement("div",null)}),G=(n(47),function(e){return r.a.createElement("div",{className:"iconButtonContainer ".concat(e.noBorder&&"noBorder"," "),onClick:e.onClick},r.a.createElement("img",{src:n(48)("./".concat(e.icon,".svg"))}))}),z=(n(52),function(e){var t=e.image,a=e.label,i=e.selected,c=e.onClick;return r.a.createElement("div",{className:"listItemContainer ".concat(i&&"selected"),onClick:c},r.a.createElement("div",{className:"listItemInner"},t&&r.a.createElement("img",{className:"icon",src:"".concat(t)}),r.a.createElement("p",{className:"label"},a),r.a.createElement("div",{className:"check"},i&&r.a.createElement("img",{src:n(8)}))))}),F=(n(53),n(54),function(){var e=Object(a.useContext)(u),t=Object(a.useState)([{id:0,type:"genres",name:s("genres"),selected:!0},{id:1,type:"providers",name:s("providers")}]),n=Object(o.a)(t,2),i=n[0],c=n[1];function s(t){var n=e[t].filter((function(e){return e.selected}));return"".concat("genres"===t?"Genres ":"Providers ","(").concat(n.length,")")}return r.a.createElement("div",null,r.a.createElement(L,{content:i,onClick:function(e){for(var t=Object.assign([],i),n=t.length-1;n>=0;n--)t[n].selected=e===n,t[n].name=s(t[n].type);c(t)}}),i[0].selected&&r.a.createElement(B,null),i[1].selected&&r.a.createElement(q,null))}),I=(n(55),function(e){return r.a.createElement("div",{className:"backButtonContainer ".concat(e.noBorder&&"noBorder"," "),onClick:function(){return window.history.back()}},r.a.createElement("img",{src:n(13)}),e.title&&r.a.createElement(S,{title:e.title}))}),H=(n(56),function(e){e.label;var t=e.selected,n=e.name,a=e.id,i=e.onClick;return r.a.createElement("div",{className:"tabContainer ".concat(t&&"selected"),onClick:function(e){e.stopPropagation(),i(a)}},r.a.createElement("p",null,n),r.a.createElement("div",null))}),L=function(e){e.data;var t=e.onClick,n=e.content;return r.a.createElement("div",{className:"tabsContainer"},n&&n.map((function(e,n){return r.a.createElement(H,Object.assign({key:n},e,{onClick:t}))})))},W=(n(57),n(58),function(e){e.info;var t=e.providers,n=t&&t.results&&t.results.GB&&t.results.GB.flatrate&&t.results.GB.flatrate.length?t.results.GB.flatrate:[],a=(t&&t.results&&t.results.GB&&t.results.GB.free&&t.results.GB.free.length?t.results.GB.free:[]).concat(n);return console.log(a),r.a.createElement("div",{className:"watchProviders"},a.map((function(e,t){return r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w92/".concat(e.logo_path)})})))}),A=(n(59),function(e){var t=Object(a.useContext)(u),n=Object(a.useState)(!1),i=Object(o.a)(n,2),c=(i[0],i[1]);return r.a.createElement("div",{className:"menuOuterContainer ".concat(t.showMenu&&"visible")},r.a.createElement("div",{className:"selectorsContainer"},r.a.createElement(L,{onClick:function(e){for(var n=Object.assign([],t.contentTypes),a=n.length-1;a>=0;a--)n[a].id===e?n[a].selected=!0:n[a].selected=!1;c(!1),t.setContentTypes(n)},content:t.contentTypes}),r.a.createElement("div",{className:"desktopFilterContainer"},r.a.createElement("div",{className:"horizontalSpacer"}),r.a.createElement(T,{label:"GENRES (".concat(t.genres.filter((function(e){return e.selected})).length,")"),onClick:function(){return t.setModal({type:"genres",title:"Select genres",description:"Select up to 6 genres. We'll find the best match for your combination"})}})),r.a.createElement("div",{className:"mobileFilterContainer"},r.a.createElement(G,{icon:"filter",noBorder:!0,onClick:function(){t.setModal({type:"mixed",title:"Filters"})}}))),r.a.createElement("div",{className:"providersMenuContainer",onClick:function(){return t.setModal(!t.modal&&{type:"providers",title:"Your services",description:"We'll only show results which you can watch for free on your subscription services. If you don't choose any services we'll show you all results"})}},r.a.createElement(G,{icon:"plus"}),t.providers.filter((function(e){return e.selected})).map((function(e,t){return r.a.createElement("img",{className:"providerIndicator",src:"https://image.tmdb.org/t/p/w92/".concat(e.logo_path)})}))))}),R=(n(60),function(e){var t=Object(a.useContext)(u);return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"sectionHeader"},r.a.createElement(S,{title:e.title})),e.children,r.a.createElement("div",{className:"CTAContainer"},e.viewMore&&r.a.createElement(T,{secondary:!0,opaque:!0,label:"View all "+e.title.toLowerCase(),tertiary:!0,onClick:function(){var n=t.contentTypes.find((function(e){return e.selected})).id;Object(d.navigate)("/watchit/view-more",!1,{type:n,query:e.query,title:e.title})}})))}),V=function(e){Object(a.useContext)(u);return r.a.createElement("div",{className:"homeContainer"},r.a.createElement(A,null),r.a.createElement(x,null))},Y=(n(61),function(){return r.a.createElement("div",{className:"onboardingContainer"})}),D=(n(62),n(16)),J=[{id:28,name:"Action",id_list:[28]},{id:"12|10759",name:"Adventure",id_list:[12,10759]},{id:16,name:"Animation",id_list:[16]},{id:35,name:"Comedy",id_list:[25]},{id:80,name:"Crime",id_list:[80]},{id:99,name:"Documentary",id_list:[99]},{id:18,name:"Drama",id_list:[18]},{id:10751,name:"Family",id_list:[10751]},{id:14,name:"Fantasy",id_list:[14]},{id:36,name:"History",id_list:[36]},{id:27,name:"Horror",id_list:[27]},{id:10762,name:"Kids",id_list:[10762]},{id:10402,name:"Music",id_list:[10402]},{id:9648,name:"Mystery",id_list:[9648]},{id:10763,name:"News",id_list:[10726]},{id:10764,name:"Reality",id_list:[10764]},{id:10749,name:"Romance",id_list:[10749]},{id:"878|10765",name:"Science Fiction",id_list:[878,10765]},{id:10766,name:"Soap",id_list:[10766]},{id:10767,name:"Talk",id_list:[10767]},{id:53,name:"Thriller",id_list:[53]},{id:37,name:"Western",id_list:[37]},{id:"10768|10752",name:"War & Politics",id_list:[10768,10752]}],K=n(4),Q=n.n(K),X="c773362edcce3dd87050f617bf8a9b24",U=function(e,t){return new Promise((function(n,a){var r="https://api.themoviedb.org/3/discover/tv?api_key=".concat(X,"&watch_region=GB&page=").concat(t).concat(e);Q.a.get(r,(function(e){for(var t=0;t<e.results.length;t++)e.results[t].media_type="tv";n(e.results)}))}))},Z=function(e,t){return new Promise((function(n,a){var r="https://api.themoviedb.org/3/discover/movie?api_key=".concat(X,"&watch_region=GB&page=").concat(t).concat(e);Q.a.get(r,(function(e){for(var t=0;t<e.results.length;t++)e.results[t].media_type="movie";n(e.results)}))}))},$=function(e,t){return console.log("getting moveis"),new Promise((function(t,n){Promise.all([Z(e,1),Z(e,2),Z(e,3),Z(e,4),Z(e,5)]).then((function(e){for(var n=[],a=0;a<e.length;a++)e[a]&&e[a].length&&(n=n.concat(e[a]));t(n)}))}))},ee=function(e,t){return new Promise((function(n,a){var r=t||1;Promise.all([U(e,r),U(e,r+1),U(e,r+2),U(e,r+3),U(e,r+4)]).then((function(e){for(var t=[],a=0;a<e.length;a++)e[a]&&e[a].length&&(t=t.concat(e[a]));n(t)}))}))},te=function(e){return new Promise((function(t,n){0===e.genres.length?(ie(e),Promise.all(ie(e)).then((function(e){var n=ne(e);t(n)}))):1===e.genres.length?Promise.all(function(e){var t=e.genres[0],n=[],a=ae({title:"Most popular "+t.name,contentType:e.contentTypes,query:se({sort:"popularity",genres:[t],genreOperator:",",providers:e.providers,contentType:e.contentTypes})});n.push(a);for(var r=0;r<J.length;r++)if(J[r].id!==t.id){var i=ae({title:oe([t,J[r]]),contentType:e.contentTypes,query:se({sort:"popularity",genres:[t,J[r]],genreOperator:",",providers:e.providers,contentType:e.contentTypes})});n.push(i)}return n}(e)).then((function(e){var n=ne(e);t(n)})):Promise.all(function(e){for(var t=e.genres.map((function(e){return e})),n=[],a=[],r=0;r<=t.length;r++)n=n.concat(ce(t,r));for(r=n.length-1;r>=0;r--){var i=ae({title:oe(n[r]),contentType:e.contentTypes,query:se({sort:"popularity",genres:n[r],genreOperator:",",providers:e.providers,contentType:e.contentTypes})});a.push(i)}return a}(e)).then((function(e){var n=ne(e);t(n)}))}))};function ne(e){e=e.filter((function(e){return e.content.length>0}));for(var t=1;t<e.length;t++){e[t];if(e[t]&&e[t].content&&e[t].content[0]&&e[t-1]&&e[t-1].content&&e[t-1].content[0])(e[t].content[0].title||e[t].content[0].name)===(e[t-1].content[0].title||e[t-1].content[0].name)&&(e.content=e[t].content.splice(0,1))}return e}function ae(e){return new Promise((function(t,n){var a,r;(a=e.query,r=e.contentType[0].id,new Promise((function(e,t){switch(r){case 1:return void Z(a,1).then((function(t){return e(t)}));case 0:return void U(a,1).then((function(t){return e(t)}));case 2:return void U(a,1).then((function(t){Z(a,1).then((function(n){var a=re(t,n);e(a)}))}))}}))).then((function(n){t({title:e.title?e.title.toUpperCase():"",content:n,query:e.query})}))}))}function re(e,t){var n=e.concat(t);return n.sort((function(e,t){return t.popularity-e.popularity})),n}function ie(e){var t=[],n=ae({title:"Most popular",contentType:e.contentTypes,query:se({sort:"popularity",genres:[],genreOperator:",",providers:e.providers,contentType:e.contentTypes})});t.push(n);for(var a=0;a<J.length;a++){var r=ae({title:oe([J[a]]),contentType:e.contentTypes,query:se({sort:"popularity",genres:[J[a]],genreOperator:",",providers:e.providers,contentType:e.contentTypes})});t.push(r)}return t}function ce(e,t){var n=e.length;if(t>n)return[];var a=[];return function t(r,i,c){for(var o=1==c,s=i;s<n;s++){var l=[].concat(Object(D.a)(r),[e[s]]);o?a.push(l):t(l,s+1,c-1)}}([],0,t),a}function oe(e){var t="";for(var n in e)t+=e[n].name+" & ";return t.slice(0,-3)}function se(e){var t="",n="";if(e.providers.length){t+="&with_watch_providers=";for(var a=e.providers.length-1;a>=0;a--){if(e.providers[a].selected)1,t+=e.providers[a].provider_id+"|"}}if(e.genres.length){n+="&with_genres=";for(a=e.genres.length-1;a>=0;a--){1,n+=e.genres[a].id+e.genreOperator}}return t.slice(0,-1)+n.slice(0,-1)}var le=function(e){var t=Object(a.useContext)(u),n=Object(d.useQueryParams)(),i=Object(o.a)(n,1)[0];return Object(a.useEffect)((function(){var e,n;return window.scrollTo(0,0),(e=i.query,n=i.type,new Promise((function(t,a){switch(n){case 1:return void $(e).then((function(e){return t(e)}));case 0:return void ee(e,1).then((function(e){return t(e)}));case 2:return void ee(e,1).then((function(n){$(e).then((function(e){var a=re(n,e);t(a)}))}))}}))).then((function(e){console.log("here"),t.setViewMore({title:i.title,content:e})})),function(){}}),[]),r.a.createElement("div",{id:"results",className:"viewMoreContainerOuter"},r.a.createElement("div",{className:"viewMoreContainer"},t.viewMore&&t.viewMore.content&&t.viewMore.content.map((function(e,t){return t%12===0?r.a.createElement(v,Object.assign({key:t,providers:e["watch/providers"]},e,{isNavigable:!0})):t%12<5?r.a.createElement(m,Object.assign({size:"large",key:t},e)):t%12<8?r.a.createElement(v,Object.assign({size:"extraSmall",key:t,providers:e["watch/providers"]},e,{isNavigable:!0})):r.a.createElement(m,Object.assign({size:"large",key:t},e))}))),r.a.createElement("div",{className:"viewMoreTitleContainer"},r.a.createElement(I,{title:i.title})))},ue=(n(63),function(e){var t=e.cast,n=e.crew,i=Object(a.useState)([]),c=Object(o.a)(i,2),s=(c[0],c[1],Object(a.useState)([])),l=Object(o.a)(s,2),u=(l[0],l[1]);function d(e){if(e){for(var t=e.length-1;t>=0;t--){if(e[t]&&e[t+1])(e[t].title||e[t].name)===(e[t+1].title||e[t+1].name)&&e.splice(t+1,1)}return e=e.sort((function(e,t){return t.popularity-e.popularity})),console.log("returning data"),e}}return Object(a.useEffect)((function(){var e=d(t),a=d(n);u(e),u(a)}),[]),r.a.createElement(r.a.Fragment,null,t&&t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"spacer"}),r.a.createElement(S,{title:"Cast"}),r.a.createElement("div",{className:"similarContainer"},t.map((function(e,t){return r.a.createElement(m,Object.assign({},e,{key:t}))})))),n&&n.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"spacer"}),r.a.createElement(S,{title:"Crew"}),r.a.createElement("div",{className:"similarContainer"},n.sort((function(e,t){return t.popularity-e.popularity})).map((function(e,t){return r.a.createElement(m,Object.assign({},e,{key:t}))})))))}),de=function(e){var t=e.id,n=e.type,i=Object(a.useState)(null),c=Object(o.a)(i,2),s=c[0],l=c[1],v=(Object(a.useContext)(u),Object(a.useContext)(u));Object(a.useEffect)((function(){return"tv"===n?function(e){return new Promise((function(t,n){var a="https://api.themoviedb.org/3/tv/".concat(e,"?api_key=").concat(X,"&append_to_response=credits,watch/providers,recommended,similar,");Q.a.get(a,(function(e){t(e)}))}))}(t).then((function(e){window.scrollTo(0,0),l(e)})):"movie"===n?function(e){return new Promise((function(t,n){var a="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(X,"&append_to_response=credits,watch/providers,recommended,similar,");Q.a.get(a,(function(e){t(e)}))}))}(t).then((function(e){window.scrollTo(0,0),l(e)})):function(e){return new Promise((function(t,n){var a="https://api.themoviedb.org/3/person/".concat(e,"?api_key=").concat(X,"&append_to_response=combined_credits");Q.a.get(a,(function(e){t(e)}))}))}(t).then((function(e){window.scrollTo(0,0),e.media_type="person",console.log(e),l(e)})),function(){}}),[n,t]);var p=s?s["watch/providers"]:[];console.log("watchproviders",p);var f=s&&s.credits&&s.credits.cast?s.credits.cast:[],g=s?s.backdrop_path?s.backdrop_path:s.combined_credits?s.combined_credits.cast&&s.combined_credits.cast&&s.combined_credits.cast[0]?s.combined_credits.cast[0].backdrop_path:s.combined_credits.crew&&s.combined_credits.crew[0]?s.combined_credits.crew[0].backdrop_path:"":"":"";return s?r.a.createElement("div",{className:"infoOuterContainer ".concat(s&&"isVisible")},r.a.createElement("div",{className:"infoHeroOuterContainer"},r.a.createElement("div",{className:"infoHeroContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url( http://image.tmdb.org/t/p/w780/".concat(g,")")}},r.a.createElement("div",{className:"vGrad"}),r.a.createElement("div",{className:"mixedGrad"})))),r.a.createElement("div",{className:"moreInfoContainer"},r.a.createElement("div",{className:"infoMeta ".concat(n)},"person"!==n&&r.a.createElement(W,{providers:p}),r.a.createElement("h2",null,s.name||s.title),"person"!==s.media_type&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"genresList"},function(e){for(var t="",n=0;n<e.length;n++)t+=e[n].name+", ";return t=t.slice(0,-2)}(s.genres)),r.a.createElement("p",{className:"metadata"},function(e){var t="";return e.number_of_seasons?(t+=e.number_of_seasons+" seasons | ",t+=e.first_air_date.slice(0,4),t+=" - ",t+=e.in_production?(new Date).getFullYear():e.last_air_date.slice(0,4)):e.release_date&&(t+="".concat(e.runtime,"m"),t+=" | ",t+=e.release_date.slice(0,4)),t}(s))),r.a.createElement("p",{className:"overview",onClick:function(){v.setModal({description:s.overview||s.biography,title:s.title||s.name})}},s.overview||s.biography)),s&&s.similar&&s.similar.results&&s.similar.results.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"spacer"}),r.a.createElement(S,{title:"Related Titles"}),r.a.createElement("div",{className:"similarContainer"},s&&s.similar&&s.similar&&s.similar.results&&s.similar.results.slice(0,12).map((function(e,t){return r.a.createElement(m,Object.assign({},e,{media_type:n,key:t}))})))),"person"===n&&r.a.createElement(ue,s.combined_credits),"person"!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"spacer"}),r.a.createElement(S,{title:"Cast and crew"}),r.a.createElement("div",{className:"castRail"},f.map((function(e,t){return e.profile_path?r.a.createElement("div",{className:"personOuter",onClick:function(){return Object(d.navigate)("/watchit/person/".concat(e.id))}},r.a.createElement("div",{className:"person",style:{backgroundImage:"url(https://image.tmdb.org/t/p/w185/".concat(e.profile_path,")")}})):r.a.createElement("div",{className:"inline",key:t})}))))),r.a.createElement(I,null)):r.a.createElement("div",null)},me=function(){return r.a.createElement("div",{className:"homeContainer"},"404")},ve={"/":function(){return r.a.createElement(V,null)},"/watchit/":function(){return r.a.createElement(V,null)},"/watchit/onboarding":function(){return r.a.createElement(Y,null)},"/watchit/view-more":function(){return r.a.createElement(le,null)},"/watchit/movie/:id":function(e){var t=e.id;return r.a.createElement(de,{type:"movie",id:t})},"/watchit/person/:id":function(e){var t=e.id;return r.a.createElement(de,{type:"person",id:t})},"/watchit/tv/:id":function(e){var t=e.id;return r.a.createElement(de,{type:"tv",id:t})}},pe=function(){var e=Object(d.useRoutes)(ve);return r.a.createElement("div",null,e||r.a.createElement(me,null),";")},fe=[{display_priority:0,logo_path:"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg",provider_id:8,provider_name:"Netflix"},{display_priority:1,logo_path:"/68MNrwlkpF7WnmNPXLah69CR5cb.jpg",provider_id:9,provider_name:"Amazon Prime Video"},{display_priority:7,logo_path:"/dgPueyEdOwpQ10fjuhL2WYFQwQs.jpg",provider_id:337,provider_name:"Disney Plus"},{display_priority:3,logo_path:"/hYrcCS72d2alfXdGS1QXNEvwYDY.jpg",provider_id:39,provider_name:"Now TV"},{display_priority:8,logo_path:"/zLX0ExkHc8xJ9W4u9JgnldDQLKv.jpg",provider_id:29,provider_name:"Sky Go"},{display_priority:9,logo_path:"/kf9hkpOBi73XZiFu4YScYKtGxh2.jpg",provider_id:38,provider_name:"BBC iPlayer"},{display_priority:17,logo_path:"/9LikNB66yMtBPXiWKRHuB45meyN.jpg",provider_id:103,provider_name:"All 4"},{display_priority:19,logo_path:"/ux9BKRR3taBbA3p0d85PhZJnObs.jpg",provider_id:41,provider_name:"ITV Player"},{display_priority:35,logo_path:"/2yL47GH7BQVB3e6jOaFiBkKVV9O.jpg",provider_id:380,provider_name:"BritBox"}],ge=[{name:"ALL",id:2,selected:!0},{name:"SHOWS",id:0},{name:"MOVIES",id:1}],ye=function(e){var t=Object(a.useState)(function(){if(window.localStorage){var e=localStorage.getItem("streamingProviders");if(e){e=Object.assign([],JSON.parse(e));for(var t=0;t<fe.length;t++){e.find((function(e){return e.id===fe.id}))||e.push(fe[t])}return e}return fe}}()),n=Object(o.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)(J),u=Object(o.a)(s,2),d=u[0],m=u[1],v=Object(a.useState)(ge),p=Object(o.a)(v,2),f=p[0],g=p[1],y=Object(a.useState)(1),h=Object(o.a)(y,2),E=h[0],b=(h[1],Object(a.useState)([])),w=Object(o.a)(b,2),O=w[0],j=w[1],N=Object(a.useState)(!1),_=Object(o.a)(N,2),k=(_[0],_[1],Object(a.useState)([])),C=Object(o.a)(k,2),x=C[0],T=C[1],S=Object(a.useState)(!1),G=Object(o.a)(S,2),z=G[0],I=G[1],H=Object(a.useState)({count:0,text:""}),L=Object(o.a)(H,2),W=L[0],A=L[1],R=Object(a.useState)(!1),V=Object(o.a)(R,2),Y=V[0],D=V[1];window.scrollY;function K(e){}return Object(a.useEffect)((function(){var e=i.filter((function(e){return e.selected}));0===e.length&&(console.log("filtered",e),I({title:"Let's find something to watch",description:"Let us know what services you're subscribed to so we can find something to watch. If you're happy to pay for something then you can just skip this.",type:"providers"}));te({genres:d.filter((function(e){return e.selected})),contentTypes:f.filter((function(e){return e.selected})),providers:e}).then((function(e){j(e)}))}),[]),Object(a.useEffect)((function(){return window.addEventListener("scroll",K),function(){window.removeEventListener("scroll",K)}}),[Y]),r.a.createElement(l,{value:{providers:i,setProviders:function(e){c(e),window.scrollTo(0,0),te({genres:d.filter((function(e){return e.selected})),contentTypes:f.filter((function(e){return e.selected})),providers:i.filter((function(e){return e.selected}))}).then((function(e){j(e)}))},genres:d,setGenres:function(e){m(e),window.scrollTo(0,0),te({genres:d.filter((function(e){return e.selected})),contentTypes:f.filter((function(e){return e.selected})),providers:i.filter((function(e){return e.selected}))}).then((function(e){j(e)}))},contentTypes:f,setContentTypes:function(e){g(e),window.scrollTo(0,0),te({genres:d.filter((function(e){return e.selected})),contentTypes:f.filter((function(e){return e.selected})),providers:i.filter((function(e){return e.selected}))}).then((function(e){j(e)}))},nextPage:E,results:O,viewMore:x,setViewMore:T,modal:z,setModal:I,notification:W,setNotification:A,showMenu:Y,setShowMenu:D}},r.a.createElement(pe,null),z&&r.a.createElement(M,{title:z.title,description:z.description},"providers"===z.type&&r.a.createElement(q,null),"genres"===z.type&&r.a.createElement(B,null),"mixed"===z.type&&r.a.createElement(F,null)),W&&r.a.createElement(P,W))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[17,1,2]]]);
//# sourceMappingURL=main.a90dd3be.chunk.js.map